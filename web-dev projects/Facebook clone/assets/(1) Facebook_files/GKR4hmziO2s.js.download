;/*FB_PKG_DELIM*/

__d("LSAnonymizedMsgrWebE2EEXmaReceiverFetchDispatchStoredProcedure",["LSAnonymizedMsgrWebE2EEXmaReceiverFetchDispatch","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSAnonymizedMsgrWebE2EEXmaReceiverFetchDispatch"),e.messageId,e.contentRef,e.videoPsProductHoldout2024h2Launch);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWChatLiveLocationDialogQuery$Parameters",["MAWChatLiveLocationDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MAWChatLiveLocationDialogQuery_facebookRelayOperation"),metadata:{},name:"MAWChatLiveLocationDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MAWChatLiveLocationDialog.entrypoint",["JSResourceForInteraction","MAWChatLiveLocationDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{queryReference:{parameters:c("MAWChatLiveLocationDialogQuery$Parameters"),variables:{data:{client_subscription_id:a.clientSubscriptionId,thread_key:a.threadKey}}}}}},root:c("JSResourceForInteraction")("MAWChatLiveLocationDialog.react").__setRef("MAWChatLiveLocationDialog.entrypoint")};g["default"]=a}),98);
__d("MAWUnavailablePlaceholder.react",["fbt","MWV2TombstonedMessage.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.isOutgoing;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Message sent before this device was added to this conversation. This message cannot be delivered."),b[0]=e):e=b[0];b[1]!==a?(e=j.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:a,children:e}),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),226);
__d("MAWUnavailableStoryPlaceholder.react",["fbt","MWV2TombstonedMessage.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.isOutgoing;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Story unavailable"),b[0]=e):e=b[0];b[1]!==a?(e=j.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:a,children:e}),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),226);
__d("MAWSecurePlaceholderTombstone.react",["MAWUnavailablePlaceholder.react","MAWUnavailableStoryPlaceholder.react","MAWXMAUtils","ReQL","ReQLSuspense","justknobx","react","react-compiler-runtime","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function k(a){var b=d("react-compiler-runtime").c(8),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.attachments||b[1]!==a.messageId||b[2]!==a.threadKey?(g=function(){return d("ReQL").fromTableAscending(e.tables.attachments).getKeyRange(a.threadKey,a.messageId)},b[0]=e.tables.attachments,b[1]=a.messageId,b[2]=a.threadKey,b[3]=g):g=b[3];var i;b[4]!==e||b[5]!==a.messageId||b[6]!==a.threadKey?(i=[e,a.threadKey,a.messageId],b[4]=e,b[5]=a.messageId,b[6]=a.threadKey,b[7]=i):i=b[7];return d("ReQLSuspense").useFirst(g,i,f.id+":27")}function a(a){var b=d("react-compiler-runtime").c(8),e=a.isOutgoing;a=a.message;a=a;a=k(a);if(a==null)return null;var f=a.defaultCtaType;a=a.xmaContentType;if(c("justknobx")._("3425")){if(a!=null&&d("MAWXMAUtils").isXMAFBStory(a)){b[0]!==e?(a=j.jsx(c("MAWUnavailableStoryPlaceholder.react"),{isOutgoing:e}),b[0]=e,b[1]=a):a=b[1];return a}b[2]!==e?(a=j.jsx(c("MAWUnavailablePlaceholder.react"),{isOutgoing:e}),b[2]=e,b[3]=a):a=b[3];return a}else{if(f==="xma_montage_share"){b[4]!==e?(a=j.jsx(c("MAWUnavailableStoryPlaceholder.react"),{isOutgoing:e}),b[4]=e,b[5]=a):a=b[5];return a}c("recoverableViolation")("Unexpected case where message is tombstone type but the attachment is not xma montage share","messenger_web_sharing");b[6]!==e?(f=j.jsx(c("MAWUnavailablePlaceholder.react"),{isOutgoing:e}),b[6]=e,b[7]=f):f=b[7];return f}}g["default"]=a}),98);
__d("MAWSecurePlaceholder.react",["fbt","FBLogger","I64","Int64Hooks","InteractionTracingMetrics","LSIntEnum","LSXmaContentType","MAWLocalizationType","MAWSecurePlaceholderTombstone.react","MAWUnavailablePlaceholder.react","MWPMessageListColumn.react","MWV2TombstonedMessage.react","MWXLink.react","MWXText.react","getMAWLocalizedFallbackMsgSnippet","justknobx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react");function m(a){var b=d("react-compiler-runtime").c(77),e=a.actorId,f=a.message;a=a.xmaContentType;var g=f.displayedContentTypes,i=f.senderId,m;b[0]!==e||b[1]!==i?(m=(j||(j=d("I64"))).equal(i,e),b[0]=e,b[1]=i,b[2]=m):m=b[2];e=m;b[3]!==g?(i=function(){if(!c("justknobx")._("3168"))return;c("InteractionTracingMetrics").currentInteractionLogger().forEach(n);(j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(65536))&&c("FBLogger")("messenger_encryption_placeholder").info("Message show up as encryption placeholder")},m=[g],b[3]=g,b[4]=i,b[5]=m):(i=b[4],m=b[5]);d("Int64Hooks").useEffectInt64(i,m);if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(65536))){b[6]===Symbol["for"]("react.memo_cache_sentinel")?(i=c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.USER_SEND_ENCRYPTED_MESSAGE_FALLBACK),b[6]=i):i=b[6];m=e?"white":"primary";var o;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(o=l.jsx(c("MWXLink.react"),{href:"https://www.facebook.com/help/messenger-app/2751245661706174?cms_platform=iphone-app&helpref=platform_switcher&locale=en_US",target:"_blank",children:h._(/*BTDS*/"Learn more")}),b[7]=o):o=b[7];b[8]!==m?(o=l.jsx(c("MWXText.react"),{color:m,type:"bodyLink3",children:o}),b[8]=m,b[9]=o):o=b[9];b[10]!==e||b[11]!==o?(m=l.jsxs(c("MWV2TombstonedMessage.react"),{isOutgoing:e,children:[i," ",o]}),b[10]=e,b[11]=o,b[12]=m):m=b[12];return m}if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(131072))){i=e?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_UNRENDERABLE_MESSAGE_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_UNRENDERABLE_MESSAGE_FALLBACK;b[13]!==i?(o=c("getMAWLocalizedFallbackMsgSnippet")(i),b[13]=i,b[14]=o):o=b[14];b[15]!==e||b[16]!==o?(m=l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:e,children:o}),b[15]=e,b[16]=o,b[17]=m):m=b[17];return m}if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(524288))){i=e?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LOCATION_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LOCATION_FALLBACK;b[18]!==i?(o=c("getMAWLocalizedFallbackMsgSnippet")(i),b[18]=i,b[19]=o):o=b[19];b[20]!==e||b[21]!==o?(m=l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:e,children:o}),b[20]=e,b[21]=o,b[22]=m):m=b[22];return m}if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(4294967296))){i=e?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LIVE_LOCATION_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LIVE_LOCATION_FALLBACK;b[23]!==i?(o=c("getMAWLocalizedFallbackMsgSnippet")(i),b[23]=i,b[24]=o):o=b[24];b[25]!==e||b[26]!==o?(m=l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:e,children:o}),b[25]=e,b[26]=o,b[27]=m):m=b[27];return m}if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(1048576))){i=e?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_POLL_CREATION_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_POLL_CREATION_FALLBACK;b[28]!==i?(o=c("getMAWLocalizedFallbackMsgSnippet")(i),b[28]=i,b[29]=o):o=b[29];b[30]!==e||b[31]!==o?(m=l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:e,children:o}),b[30]=e,b[31]=o,b[32]=m):m=b[32];return m}if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(2097152))){i=e?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_CONTACT_SHARE_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_CONTACT_SHARE_FALLBACK;b[33]!==i?(o=c("getMAWLocalizedFallbackMsgSnippet")(i),b[33]=i,b[34]=o):o=b[34];b[35]!==e||b[36]!==o?(m=l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:e,children:o}),b[35]=e,b[36]=o,b[37]=m):m=b[37];return m}if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(8589934592))||a!=null&&(k||(k=d("LSIntEnum"))).toNumber(a)===c("LSXmaContentType").MSG_MEMORIES_SHARE){b[38]===Symbol["for"]("react.memo_cache_sentinel")?(i=c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.MESSENGER_MEMORY_ENCRYPTED_MESSAGE_FALLBACK),b[38]=i):i=b[38];b[39]!==e?(o=l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:e,children:i}),b[39]=e,b[40]=o):o=b[40];return o}if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(4194304))){m=e?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STORY_MENTION_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STORY_MENTION_FALLBACK;b[41]!==m?(a=c("getMAWLocalizedFallbackMsgSnippet")(m),b[41]=m,b[42]=a):a=b[42];b[43]!==e||b[44]!==a?(i=l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:e,children:a}),b[43]=e,b[44]=a,b[45]=i):i=b[45];return i}if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(2147483648))){o=e?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_POST_MENTION_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_POST_MENTION_FALLBACK;b[46]!==o?(m=c("getMAWLocalizedFallbackMsgSnippet")(o),b[46]=o,b[47]=m):m=b[47];b[48]!==e||b[49]!==m?(a=l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:e,children:m}),b[48]=e,b[49]=m,b[50]=a):a=b[50];return a}if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(8388608))){b[51]===Symbol["for"]("react.memo_cache_sentinel")?(i=c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.META_AI_SEND_MESSAGE_FALLBACK),b[51]=i):i=b[51];b[52]!==e?(o=l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:e,children:i}),b[52]=e,b[53]=o):o=b[53];return o}if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(16777216))){m=e?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_BUMP_MESSAGE_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_BUMP_MESSAGE;b[54]!==m?(a=c("getMAWLocalizedFallbackMsgSnippet")(m),b[54]=m,b[55]=a):a=b[55];b[56]!==e||b[57]!==a?(i=l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:e,children:a}),b[56]=e,b[57]=a,b[58]=i):i=b[58];return i}if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(262144))){b[59]!==e?(o=l.jsx(c("MAWUnavailablePlaceholder.react"),{isOutgoing:e}),b[59]=e,b[60]=o):o=b[60];return o}if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(256))){b[61]!==e||b[62]!==f?(m=l.jsx(c("MAWSecurePlaceholderTombstone.react"),{isOutgoing:e,message:f}),b[61]=e,b[62]=f,b[63]=m):m=b[63];return m}if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(33554432))){b[64]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_BUMP_MESSAGE_ORIGINAL_UNAVAILABLE_FALLBACK),b[64]=a):a=b[64];b[65]!==e?(i=l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:e,children:a}),b[65]=e,b[66]=i):i=b[66];return i}if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(67108864))){o=e?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK;b[67]!==o?(f=c("getMAWLocalizedFallbackMsgSnippet")(o),b[67]=o,b[68]=f):f=b[68];b[69]!==e||b[70]!==f?(m=l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:e,children:f}),b[69]=e,b[70]=f,b[71]=m):m=b[71];return m}if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(1073741824))){a=e?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_NOTE_MENTION_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_NOTE_MENTION_FALLBACK;b[72]!==a?(i=c("getMAWLocalizedFallbackMsgSnippet")(a),b[72]=a,b[73]=i):i=b[73];b[74]!==e||b[75]!==i?(o=l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:e,children:i}),b[74]=e,b[75]=i,b[76]=o):o=b[76];return o}return null}function n(a){c("InteractionTracingMetrics").addMarkerPoint(a.traceId,"render-maw-secure-placeholder","AppTiming")}function a(a){var b=d("react-compiler-runtime").c(5),c=a.actorId,e=a.message;a=a.xmaContentType;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=l.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}),b[0]=f):f=b[0];b[1]!==c||b[2]!==e||b[3]!==a?(f=l.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[f,l.jsx(m,{actorId:c,message:e,xmaContentType:a})]}),b[1]=c,b[2]=e,b[3]=a,b[4]=f):f=b[4];return f}g["default"]=a}),226);
__d("MAWXMAV2GatedTemplateError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.name="MAWXMAV2GatedTemplateError";c.message=b;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.MAWXMAV2GatedTemplateError=a}),66);
__d("MWBlockedTombstoneMessage.react",["fbt","MWChatBubbleEmphasisRing.react","MWPVisibleMessageContext.react","MWV2TombstonedMessage.react","MWXPressable.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={bubble:{paddingBottom:"x1120s5i",$$css:!0},bubbleReply:{paddingBottom:"xwib8y2",$$css:!0}};b={ORIGINAL_MESSAGE:"original-message",REPLIED_TO:"replied-to"};function a(a){var b=d("react-compiler-runtime").c(14),e=a.isLastMessageInGroup,f=a.message,g=a.onClick;a=a.source;var j;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(j=h._(/*BTDS*/"Message hidden"),b[0]=j):j=b[0];j=j;var m=f.messageId,n=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext();n=n.visibleMessage;n=(n==null?void 0:n.source)==="Pinned"&&(n==null?void 0:n.messageId)===m;b[1]!==f||b[2]!==n||b[3]!==a?(m=n?k.jsx(c("MWChatBubbleEmphasisRing.react"),{connectBottom:!1,connectTop:!1,message:f,outgoing:!1,precedesXMA:!1,children:k.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:!1,isReply:a==="replied-to",children:j})}):k.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:!1,isReply:a==="replied-to",children:j}),b[1]=f,b[2]=n,b[3]=a,b[4]=m):m=b[4];j=m;b[5]!==e||b[6]!==a?(f=(i||(i=c("stylex"))).props(e===!1&&l.bubble,a==="replied-to"&&l.bubbleReply),b[5]=e,b[6]=a,b[7]=f):f=b[7];b[8]!==j||b[9]!==g?(n=k.jsx(c("MWXPressable.react"),{onPress:g,overlayDisabled:!0,children:j}),b[8]=j,b[9]=g,b[10]=n):n=b[10];b[11]!==f||b[12]!==n?(m=k.jsx("div",babelHelpers["extends"]({},f,{"data-testid":void 0,children:n})),b[11]=f,b[12]=n,b[13]=m):m=b[13];return m}g.MWBlockedTombstoneMessageSource=b;g.MWBlockedTombstoneMessage=a}),226);
__d("MWBlockingProtectionLogging",["I64","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("MwbGroupBlockeeMessagesTapToRevealActionFalcoEvent").__setRef("MWBlockingProtectionLogging");function a(a){var b=d("react-compiler-runtime").c(2),c;b[0]!==a?(c=function(){i.onReady(function(b){return b.log(function(){return{entry_point:22,source:3,source_type:0,thread_id:(h||(h=d("I64"))).to_string(a.threadKey)}})})},b[0]=a,b[1]=c):c=b[1];return c}g.useLogTapToReviewAction=a}),98);
__d("MWGenAIRichReponseFallback.react",["MAWLocalizationType","MWV2TombstonedMessage.react","getMAWLocalizedFallbackMsgSnippet","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.isOutgoing;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.META_AI_SEND_MESSAGE_FALLBACK),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:a,children:e}),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("MWGenAIRichResponseFallbackQplLogger",["QPLUserFlow","Random","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qpl")._(25304537,"2861");function a(a){var b=Date.now()+(Math.round(d("Random").random()*1e4)+1e4);c("QPLUserFlow").start(h,{annotations:{string:{entry_point:a}},instanceKey:b});c("QPLUserFlow").endSuccess(h,{instanceKey:b});return b}g.markImpression=a}),98);
__d("MWGenAIRichResponseRenderEligibilityUtils",["qex"],(function(a,b,c,d,e,f,g){"use strict";var h=["XMSGXmaRichTextTemplateData"];function i(a){switch(a){case"XMSGXmaRichTextTemplateData":return c("qex")._("3931")===!0;default:return null}}function a(a){var b=a==null?void 0:(a=a.sections)==null?void 0:a.map(function(a){return a.template_data.__typename});if(b==null)return!1;a=b.filter(function(a,c){return b.indexOf(a)===c});a=a.map(function(a){return!h.includes(a)?!1:i(a)===!0});return!a.includes(!1)}g.shouldRenderRichReponseXMA=a}),98);
__d("MWUnsupportedXMA.react",["fbt","MWV2TombstonedMessage.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useEffect,l={extraPaddingBottom:{paddingTop:"x1iorvi4",$$css:!0},extraPaddingTop:{paddingTop:"x1iorvi4",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(9),e=a.mediaRenderQpl,f=a.nextMessage;a=a.prevMessage;var g,i;b[0]!==e?(g=function(){e==null?void 0:e.endSuccess()},i=[e],b[0]=e,b[1]=g,b[2]=i):(g=b[1],i=b[2]);k(g,i);g=a&&l.extraPaddingTop;i=f&&l.extraPaddingBottom;b[3]!==g||b[4]!==i?(a=[g,i],b[3]=g,b[4]=i,b[5]=a):a=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:!1,children:h._(/*BTDS*/"You received a message that can't be shown on web. Use the Messenger mobile app to see it.")}),b[6]=f):f=b[6];b[7]!==a?(g=j.jsx(d("react-strict-dom").html.div,{style:a,children:f}),b[7]=a,b[8]=g):g=b[8];return g}g["default"]=a}),226);
__d("MWXMAV2AttachmentHscrollLayout.react",["FDSHScroll.react","MWXColumn.react","MWXColumnItem.react","MWXMessageBubbleCornerStyles.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||c("react"),k={card:{display:"x3nfvp2",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},centerElement:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",$$css:!0},firstElement:{borderBottomEndRadius:"xrt01vj",borderTopEndRadius:"x1yr5g0i",$$css:!0},lastElement:{borderBottomStartRadius:"x10y3i5r",borderTopStartRadius:"x1lcm9me",$$css:!0},maxHeight:{maxHeight:"xuyqlj2",$$css:!0},scrollContainer:{paddingBottom:"x18d9i69",paddingTop:"xexx8yu",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(25),e=a.children,f=a.connectBottom,g=a.connectTop,h=a.disableMaxHeight,l=a.flattenTop;a=a.outgoing;var m=h===void 0?!1:h;h=a?"right":"left";a=l?"top":"none";var n,o,p,q,r,s;if(b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==m||b[4]!==h||b[5]!==a){var t=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:h,connectBottom:f,connectTop:g,flatten:a}),u=e.length;b[13]===Symbol["for"]("react.memo_cache_sentinel")?(l={className:"xic84rp xxbr6pl xh8yej3 x1s3gxii x19a7vgm"},b[13]=l):l=b[13];n=d("FDSHScroll.react").Container;b[14]===Symbol["for"]("react.memo_cache_sentinel")?(o={minWidth:180,type:"responsive"},b[14]=o):o=b[14];p=k.scrollContainer;q=4;r=!0;s=e.map(function(a,b){var e=u===1,f=!e&&b===0,g=!e&&b===u-1;e=!e&&!f&&!g;return j.jsx(d("FDSHScroll.react").Child,{expanding:!0,type:"custom",children:j.jsx(c("MWXColumn.react"),{expanding:!0,verticalAlign:"top",xstyle:!m&&k.maxHeight,children:j.jsx(c("MWXColumnItem.react"),{expanding:!0,children:j.createElement("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(k.card,t,f&&k.firstElement,e&&k.centerElement,g&&k.lastElement),{key:b}),a)})})},b)});b[0]=e;b[1]=f;b[2]=g;b[3]=m;b[4]=h;b[5]=a;b[6]=n;b[7]=o;b[8]=p;b[9]=q;b[10]=r;b[11]=s;b[12]=l}else n=b[6],o=b[7],p=b[8],q=b[9],r=b[10],s=b[11],l=b[12];b[15]!==n||b[16]!==o||b[17]!==p||b[18]!==q||b[19]!==r||b[20]!==s?(e=j.jsx(n,{cardWidth:o,containerXStyle:p,gap:q,reduceArrowSize:r,children:s}),b[15]=n,b[16]=o,b[17]=p,b[18]=q,b[19]=r,b[20]=s,b[21]=e):e=b[21];b[22]!==e||b[23]!==l?(f=j.jsx("div",babelHelpers["extends"]({},l,{children:e})),b[22]=e,b[23]=l,b[24]=f):f=b[24];return f}g["default"]=a}),98);
__d("MWXMAV2AttachmentSingleLayout.react",["MWXMessageBubbleCornerStyles.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||c("react"),k={root:{display:"x3nfvp2",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(8),e=a.children,f=a.connectBottom,g=a.connectTop,h=a.flattenTop;a=a.outgoing;a=a?"right":"left";h=h?"top":"none";if(b[0]!==f||b[1]!==g||b[2]!==a||b[3]!==h){var l=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:a,connectBottom:f,connectTop:g,flatten:h});l=(i||(i=c("stylex"))).props(k.root,l);b[0]=f;b[1]=g;b[2]=a;b[3]=h;b[4]=l}else l=b[4];b[5]!==e||b[6]!==l?(f=j.jsx("div",babelHelpers["extends"]({},l,{children:e})),b[5]=e,b[6]=l,b[7]=f):f=b[7];return f}g["default"]=a}),98);
__d("MWXMAV2AttachmentVstackLayout.react",["MSGDataclassTypes.flow","MWXColumn.react","MWXColumnItem.react","MWXImage.react","MWXMessageBubbleCornerStyles.react","MWXRow.react","MWXRowItem.react","MWXText.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||c("react"),k={headerIcon:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x1kpxq89",width:"xsmyaan",$$css:!0},root:{backgroundColor:"x1xr0vuk",display:"x78zum5",flexDirection:"xdt5ytf",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xeq5yr9",$$css:!0}};function l(a){var b=d("react-compiler-runtime").c(15);a=a.layoutHeader;var e=a==null?void 0:a.title;if(e==null)return null;var f=a==null?void 0:a.alignment,g=a==null?void 0:a.subtitle;a=a==null?void 0:(a=a.attribution_icon)==null?void 0:a.url;f=f===d("MSGDataclassTypes.flow").XmsgXmaVStackLayoutHeaderAlignmentType.Center?"center":"start";var h;b[0]!==e?(h=j.jsx(c("MWXColumnItem.react"),{children:j.jsx(c("MWXRow.react"),{paddingTop:12,children:j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXText.react"),{color:"primary",type:"headlineEmphasized3",children:e})})})}),b[0]=e,b[1]=h):h=b[1];b[2]!==a?(e=a!=null&&j.jsx(c("MWXImage.react"),{src:a,xstyle:k.headerIcon}),b[2]=a,b[3]=e):e=b[3];b[4]!==e?(a=j.jsx(c("MWXRowItem.react"),{children:e}),b[4]=e,b[5]=a):a=b[5];b[6]!==g?(e=j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:g})}),b[6]=g,b[7]=e):e=b[7];b[8]!==a||b[9]!==e?(g=j.jsx(c("MWXColumnItem.react"),{children:j.jsxs(c("MWXRow.react"),{align:"start",paddingTop:0,spacing:4,verticalAlign:"center",children:[a,e]})}),b[8]=a,b[9]=e,b[10]=g):g=b[10];b[11]!==f||b[12]!==h||b[13]!==g?(a=j.jsxs(c("MWXColumn.react"),{align:f,paddingHorizontal:8,paddingVertical:8,spacing:8,children:[h,g]}),b[11]=f,b[12]=h,b[13]=g,b[14]=a):a=b[14];return a}function a(a){var b=d("react-compiler-runtime").c(11),e=a.children,f=a.connectBottom,g=a.connectTop,h=a.flattenTop,m=a.layoutExtension;a=a.outgoing;a=a?"right":"left";h=h?"top":"none";if(b[0]!==f||b[1]!==g||b[2]!==a||b[3]!==h){var n=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:a,connectBottom:f,connectTop:g,flatten:h});n=(i||(i=c("stylex"))).props(k.root,n);b[0]=f;b[1]=g;b[2]=a;b[3]=h;b[4]=n}else n=b[4];f=m==null?void 0:m.header;b[5]!==f?(g=j.jsx(l,{layoutHeader:f}),b[5]=f,b[6]=g):g=b[6];b[7]!==e||b[8]!==n||b[9]!==g?(a=j.jsx("div",{children:j.jsxs("div",babelHelpers["extends"]({},n,{children:[g,e]}))}),b[7]=e,b[8]=n,b[9]=g,b[10]=a):a=b[10];return a}g["default"]=a}),98);
__d("MWXMAV2AttachmentLayoutWrapper.react",["FBLogger","MSGDataclassTypes.flow","MWXMAV2AttachmentHscrollLayout.react","MWXMAV2AttachmentSingleLayout.react","MWXMAV2AttachmentVstackLayout.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||c("react"),k=(h||(h=d("react"))).useEffect;function a(a){var b=d("react-compiler-runtime").c(23),e=a.children,f=a.connectBottom,g=a.connectTop,h=a.disableMaxHeightForHscrollLayout,i=a.flattenTop,l=a.layoutExtension,m=a.layoutType,n=a.mediaRenderQpl;a=a.outgoing;var o,p;b[0]!==n?(o=function(){n==null?void 0:n.addPoint("render-xma-v2-layout")},p=[n],b[0]=n,b[1]=o,b[2]=p):(o=b[1],p=b[2]);k(o,p);switch(m){case d("MSGDataclassTypes.flow").XmsgXmaLayoutType.Single:b[3]!==e[0]||b[4]!==f||b[5]!==g||b[6]!==i||b[7]!==a?(o=j.jsx(c("MWXMAV2AttachmentSingleLayout.react"),{connectBottom:f,connectTop:g,flattenTop:i,outgoing:a,children:e[0]}),b[3]=e[0],b[4]=f,b[5]=g,b[6]=i,b[7]=a,b[8]=o):o=b[8];return o;case d("MSGDataclassTypes.flow").XmsgXmaLayoutType.Hscroll:b[9]!==e||b[10]!==f||b[11]!==g||b[12]!==h||b[13]!==i||b[14]!==a?(p=j.jsx(c("MWXMAV2AttachmentHscrollLayout.react"),{connectBottom:f,connectTop:g,disableMaxHeight:h,flattenTop:i,outgoing:a,children:e}),b[9]=e,b[10]=f,b[11]=g,b[12]=h,b[13]=i,b[14]=a,b[15]=p):p=b[15];return p;case d("MSGDataclassTypes.flow").XmsgXmaLayoutType.Vstack:b[16]!==e||b[17]!==f||b[18]!==g||b[19]!==i||b[20]!==l||b[21]!==a?(o=j.jsx(c("MWXMAV2AttachmentVstackLayout.react"),{connectBottom:f,connectTop:g,flattenTop:i,layoutExtension:l,outgoing:a,children:e}),b[16]=e,b[17]=f,b[18]=g,b[19]=i,b[20]=l,b[21]=a,b[22]=o):o=b[22];return o;default:throw c("FBLogger")("messenger_web_sharing").mustfixThrow("Unsupported XMA 2.0 layout type %s",d("MSGDataclassTypes.flow").XmsgXmaLayoutType.getName(m))}}g["default"]=a}),98);
__d("useSupportMessagingGroupThreadSubtype.react",["I64","LSIntEnum","MessagingThreadSubtype","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){var b,e=d("react-compiler-runtime").c(2),g=(j||(j=c("useReStore")))();b=(b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.threads,["threadSubtype"]).getKeyRange(a)},[g,a],f.id+":24"))!=null?b:{};b=b.threadSubtype;if(b==null)return!1;var k;e[0]!==b?(k=(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").SUPPORT_MESSAGING_THREAD)),e[0]=b,e[1]=k):k=e[1];return k}g.useSupportMessagingGroupThreadSubtype=a}),98);
__d("MWXMAV2AttachmentBloksTemplate.react",["CometPlaceholder.react","MWLSPostbackCtaHandler","MWLSThreadDisplayContext","MWThreadKey.react","deferredLoadComponent","react","react-compiler-runtime","requireDeferredForDisplay","stylex","useJSON","useSupportMessagingGroupThreadSubtype.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||c("react");(h||(h=d("react"))).useMemo;var l=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MSGWebBloksEntryPoint.react").__setRef("MWXMAV2AttachmentBloksTemplate.react")),m={cardWidth:{maxWidth:"x16em4ew",$$css:!0},cardWidthChatTab:{maxWidth:"x1e4dklr",$$css:!0},root:{height:"x5yr21d",width:"xn9wirt",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(16),e=a.mediaRenderQpl;a=a.template;a=c("useJSON")(a.payload);var f=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();f=f==="ChatTab";var g=d("MWLSPostbackCtaHandler").usePostbackCtaHandler(),h=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),j=d("useSupportMessagingGroupThreadSubtype.react").useSupportMessagingGroupThreadSubtype(h);b[0]!==e?(h=function(){e==null?void 0:e.addPoint("render-xma-v2-bloks-template"),e==null?void 0:e.endSuccess()},b[0]=e,b[1]=h):h=b[1];var n;b[2]!==j||b[3]!==g?(n=function(a,b,c,d,e){if(!j)return;g(d,c)},b[2]=j,b[3]=g,b[4]=n):n=b[4];var o;b[5]!==h||b[6]!==n?(o={"bk.action.msg.wbloks.qpl.EndSuccess":h,"bk.action.xs.SendTextMessageCTA":n},b[5]=h,b[6]=n,b[7]=o):o=b[7];h=o;n=h;b[8]!==f?(o=(i||(i=c("stylex"))).props(m.root,!f&&m.cardWidth,f&&m.cardWidthChatTab),b[8]=f,b[9]=o):o=b[9];b[10]!==n||b[11]!==a?(h=k.jsx(l,{actionOverrides:n,payload:a}),b[10]=n,b[11]=a,b[12]=h):h=b[12];b[13]!==o||b[14]!==h?(f=k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx("div",babelHelpers["extends"]({},o,{children:h}))}),b[13]=o,b[14]=h,b[15]=f):f=b[15];return f}g["default"]=a}),98);
__d("getXmaWebUrlCtaHandler",["isStringNullOrWhitespaceOnly"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.action_url;return a==null||c("isStringNullOrWhitespaceOnly")(a)?null:{ctaActionType:"link",link:a}}g.getXmaWebUrlCtaHandler=a}),98);
__d("useGetCtaAction.react",["MSGDataclassTypes.flow","getXmaWebUrlCtaHandler","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(3),c=a==null?void 0:a.cta_type;if(a==null||c==null)return null;switch(c){case d("MSGDataclassTypes.flow").XmsgctaType.XmaWebUrl:b[0]!==a?(c=d("getXmaWebUrlCtaHandler").getXmaWebUrlCtaHandler(a),b[0]=a,b[1]=c):c=b[1];return c;default:b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a={ctaActionType:"unsupported"},b[2]=a):a=b[2];return a}}g.useGetCtaAction=a}),98);
__d("MWXMAV2PressableWrapper.react",["fbt","MWXPressable.react","react","react-compiler-runtime","useGetCtaAction.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||c("react"),k={pressable:{height:"x5yr21d",width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(12),e=a.children,f=a.cta,g=a.handleXmaClickLogging;a=a.handleXmaOnNavigation;f=d("useGetCtaAction.react").useGetCtaAction(f);if(f==null||f.ctaActionType==="unsupported")return e;var i;b[0]!==f.ctaActionType||b[1]!==f.link||b[2]!==a?(i=f.ctaActionType==="link"?{onNavigate:a,target:"_blank",url:f.link}:void 0,b[0]=f.ctaActionType,b[1]=f.link,b[2]=a,b[3]=i):i=b[3];a=i;var l=f.ctaActionType==="function"?f.onPress:void 0;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"Go to link"),b[4]=i):i=b[4];b[5]!==g||b[6]!==l?(f=function(){g(),l&&l()},b[5]=g,b[6]=l,b[7]=f):f=b[7];b[8]!==e||b[9]!==a||b[10]!==f?(i=j.jsx(c("MWXPressable.react"),{"aria-label":i,linkProps:a,onPress:f,overlayDisabled:!0,xstyle:k.pressable,children:e}),b[8]=e,b[9]=a,b[10]=f,b[11]=i):i=b[11];return i}g["default"]=a}),226);
__d("MWXMAV2AttachmentCompactGenericTemplate.react",["FBLogger","MSGDataclassTypes.flow","MWLSThreadDisplayContext","MWXColumn.react","MWXColumnItem.react","MWXIconChevronRight","MWXIconStrict.react","MWXImage.react","MWXMAV2PressableWrapper.react","MWXRow.react","MWXRowItem.react","MWXText.react","isStringNullOrWhitespaceOnly","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react"),j={accessory_container:{alignSelf:"xamitd3",marginStart:"x16n37ib",$$css:!0},cardWidth:{maxWidth:"xw5ewwj",$$css:!0},cardWidthChatTab:{maxWidth:"x1i5r0r9",$$css:!0},preview_image_style_circle:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xc9qbxq",marginEnd:"x1emribx",objectFit:"xl1xv1r",width:"x14qfxbe",$$css:!0},preview_image_style_square:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xnnlda6",marginEnd:"xq8finb",objectFit:"xl1xv1r",width:"x15yg21f",$$css:!0},root:{backgroundColor:"x1xr0vuk",$$css:!0}};function k(a){var b=d("react-compiler-runtime").c(4);a=a.preview;var e=a==null?void 0:a.image.url;if(a==null||e==null||c("isStringNullOrWhitespaceOnly")(e))return null;switch(a.style){case d("MSGDataclassTypes.flow").XmsgXmaCompactGenericTemplatePreviewStyle.Circle:b[0]!==e?(a=i.jsx(c("MWXImage.react"),{src:e,xstyle:j.preview_image_style_circle}),b[0]=e,b[1]=a):a=b[1];return a;case d("MSGDataclassTypes.flow").XmsgXmaCompactGenericTemplatePreviewStyle.Square:b[2]!==e?(a=i.jsx(c("MWXImage.react"),{src:e,xstyle:j.preview_image_style_square}),b[2]=e,b[3]=a):a=b[3];return a}}function l(a){var b=d("react-compiler-runtime").c(2);a=a.accessory;if(a==null)return null;var e=null;switch(a){case d("MSGDataclassTypes.flow").XmsgXmaCompactGenericTemplateAccessoryType.Chevron:e=c("MWXIconChevronRight")}if(e==null)return null;b[0]!==e?(a=i.jsx(c("MWXIconStrict.react"),{color:"secondary",icon:e,size:16}),b[0]=e,b[1]=a):a=b[1];return a}function a(a){var b=d("react-compiler-runtime").c(27),e=a.content,f=a.handleXmaClickLogging,g=a.handleXmaOnNavigation,h=a.mediaRenderQpl;a=a.template;var m=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();m=m==="ChatTab";var n=a.title;if(n==null)throw c("FBLogger")("messenger_web_product").mustfixThrow("Template title is null for MWXMAV2AttachmentCompactGenericTemplate");h!=null&&(h.addPoint("render-xma-v2-template"),h.endSuccess());h=a.subtitle;var o=a.metadata;e=e.default_cta;var p=a.accessory,q=!m&&j.cardWidth;m=m&&j.cardWidthChatTab;var r;b[0]!==q||b[1]!==m?(r=[j.root,q,m],b[0]=q,b[1]=m,b[2]=r):r=b[2];b[3]!==a.preview?(q=i.jsx(c("MWXRowItem.react"),{expanding:!1,children:i.jsx(k,{preview:a.preview})}),b[3]=a.preview,b[4]=q):q=b[4];b[5]!==n?(m=i.jsx(c("MWXColumnItem.react"),{children:i.jsx(c("MWXText.react"),{color:"primary",numberOfLines:1,type:"headlineEmphasized5",children:n})}),b[5]=n,b[6]=m):m=b[6];b[7]!==h?(a=h!=null&&i.jsx(c("MWXColumnItem.react"),{children:i.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:h})}),b[7]=h,b[8]=a):a=b[8];b[9]!==o?(n=o!=null&&i.jsx(c("MWXColumnItem.react"),{children:i.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:o})}),b[9]=o,b[10]=n):n=b[10];b[11]!==m||b[12]!==a||b[13]!==n?(h=i.jsx(c("MWXRowItem.react"),{expanding:!0,children:i.jsxs(c("MWXColumn.react"),{spacing:8,children:[m,a,n]})}),b[11]=m,b[12]=a,b[13]=n,b[14]=h):h=b[14];b[15]!==p?(o=i.jsx(c("MWXRowItem.react"),{xstyle:j.accessory_container,children:i.jsx(l,{accessory:p})}),b[15]=p,b[16]=o):o=b[16];b[17]!==r||b[18]!==q||b[19]!==h||b[20]!==o?(m=i.jsxs(c("MWXRow.react"),{paddingHorizontal:12,paddingVertical:12,spacing:0,verticalAlign:"center",xstyle:r,children:[q,h,o]}),b[17]=r,b[18]=q,b[19]=h,b[20]=o,b[21]=m):m=b[21];b[22]!==e||b[23]!==f||b[24]!==g||b[25]!==m?(a=i.jsx(c("MWXMAV2PressableWrapper.react"),{cta:e,handleXmaClickLogging:f,handleXmaOnNavigation:g,children:m}),b[22]=e,b[23]=f,b[24]=g,b[25]=m,b[26]=a):a=b[26];return a}g["default"]=a}),98);
__d("MWXGenAIRichResponseSearchPluginAttachment.react",["FDSImageCover.react","MWXLink.react","MWXMAIconParser.react","MWXText.react","MWXTextPairing.react","react","react-compiler-runtime","useMWXMAInformedAttachmentLabel"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b,e=d("react-compiler-runtime").c(20),f=a.imageUrl,g=a.queryUrl,h=a.subtitle;a=a.title;b=c("useMWXMAInformedAttachmentLabel")((b=a)!=null?b:"",void 0,(b=h)!=null?b:"");var l;e[0]!==f?(l=f==null?void 0:d("MWXMAIconParser.react").parse(f),e[0]=f,e[1]=l):l=e[1];f=l;e[2]===Symbol["for"]("react.memo_cache_sentinel")?(l={className:"x6s0dn4 x78zum5"},e[2]=l):l=e[2];var m;e[3]!==f?(m=typeof f==="string"?i.jsx(c("FDSImageCover.react"),{alt:"Icon for this message's header",src:f,style:{borderRadius:"50%",height:"40px",width:"40px"}}):null,e[3]=f,e[4]=m):m=e[4];e[5]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x12nagc x16n37ib x1gslohp x6ikm8r x10wlt62 xjkvuk6 x1iorvi4"},e[5]=f):f=e[5];var n;e[6]!==h?(n=h!=null&&h.length>0?i.jsx(c("MWXText.react"),{numberOfLines:1,type:"meta4",children:h}):null,e[6]=h,e[7]=n):n=e[7];e[8]!==a?(h=a!=null?i.jsx(c("MWXText.react"),{color:"primary",numberOfLines:1,type:"headlineEmphasized5",children:a}):null,e[8]=a,e[9]=h):h=e[9];e[10]!==n||e[11]!==h?(a=i.jsx("div",babelHelpers["extends"]({},f,{children:i.jsx(c("MWXTextPairing.react"),{body:n,bodyColor:"secondary",bodyLineLimit:1,headline:h,headlineLineLimit:1,level:3})})),e[10]=n,e[11]=h,e[12]=a):a=e[12];e[13]!==m||e[14]!==a?(f=i.jsxs("div",babelHelpers["extends"]({},l,{children:[m,a]})),e[13]=m,e[14]=a,e[15]=f):f=e[15];e[16]!==b||e[17]!==g||e[18]!==f?(n=i.jsx(c("MWXLink.react"),{href:g,label:b,onClick:k,onNavigate:j,target:void 0,children:f}),e[16]=b,e[17]=g,e[18]=f,e[19]=n):n=e[19];return n}function j(){}function k(){}g["default"]=a}),98);
__d("MWXGenAIRichResponseSourcesMustache.react",["JSResourceForInteraction","MWSearchPluginUtils","MWXPressable.react","MWXText.react","react","react-compiler-runtime","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;var j=c("JSResourceForInteraction")("MWMessageSearchPluginSourcesDialog.react").__setRef("MWXGenAIRichResponseSourcesMustache.react");function a(a){var b=d("react-compiler-runtime").c(9);a=a.sourcesUrl;var e=d("MWSearchPluginUtils").useSearchPluginSources(a);a=c("useMWXLazyDialog")(j);var f=a[0];b[0]!==f||b[1]!==e?(a=function(){e!=null&&f({botResponseId:void 0,sources:e})},b[0]=f,b[1]=e,b[2]=a):a=b[2];a=a;if(e==null||e.header==null||e.source_titles.length===0||e.source_urls.length===0)return null;var g;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x78zum5 x16n37ib"},b[3]=g):g=b[3];var h;b[4]!==e.header?(h=i.jsx(c("MWXText.react"),{color:"blueLink",type:"body4",children:e.header}),b[4]=e.header,b[5]=h):h=b[5];b[6]!==a||b[7]!==h?(g=i.jsx("div",babelHelpers["extends"]({},g,{children:i.jsx(c("MWXPressable.react"),{onPress:a,overlayDisabled:!0,children:h})})),b[6]=a,b[7]=h,b[8]=g):g=b[8];return g}g["default"]=a}),98);
__d("MWXGenAIRichTextSection.react",["MWV2ChatTextParserUtils","MWXMessageBaseMessageListText.react","react","react-compiler-runtime","useMWTextRenderers"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(6);a=a.templateData;var e=c("useMWTextRenderers")(!1,!1),f;b[0]!==a.text?(f=d("MWV2ChatTextParserUtils").findRanges(a.text,!0,!0,!0),b[0]=a.text,b[1]=f):f=b[1];f=f;var g;b[2]!==f||b[3]!==e||b[4]!==a.text?(g=i.jsx(c("MWXMessageBaseMessageListText.react"),{outgoing:!1,ranges:f,renderers:e,text:a.text}),b[2]=f,b[3]=e,b[4]=a.text,b[5]=g):g=b[5];return g}g["default"]=a}),98);
__d("MWXMAV2AttachmentGenAIRichResponseTemplate.react",["MWGenAIRichReponseFallback.react","MWGenAIRichResponseFallbackQplLogger","MWGenAIRichResponseRenderEligibilityUtils","MWLSThreadDisplayContext","MWXGenAIRichResponseSearchPluginAttachment.react","MWXGenAIRichResponseSourcesMustache.react","MWXGenAIRichTextSection.react","MWXMessageBubble.react","react","react-compiler-runtime","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){var b=d("react-compiler-runtime").c(2);a=a.templateData;switch(a.__typename){case"XMSGXmaRichTextTemplateData":var e;b[0]!==a?(e=i.jsx(c("MWXGenAIRichTextSection.react"),{templateData:a}),b[0]=a,b[1]=e):e=b[1];return e;default:return null}}function k(a){var b=d("react-compiler-runtime").c(9),c=a.sections;a=a.streamingAction;if(b[0]!==(a==null?void 0:a.insertions)){var e;e=(e=a==null?void 0:a.insertions)!=null?e:[];b[0]=a==null?void 0:a.insertions;b[1]=e}else e=b[1];a=e;b[2]!==a?(e=new Map(a.map(l)),b[2]=a,b[3]=e):e=b[3];var f=e;if(b[4]!==f||b[5]!==c){b[7]!==f?(a=function(a,b){var c=a.template_data.section_id;c=c!=null?f==null?void 0:f.get(c):null;return i.jsx(j,{templateData:(c=c)!=null?c:a.template_data},b)},b[7]=f,b[8]=a):a=b[8];e=c.map(a);b[4]=f;b[5]=c;b[6]=e}else e=b[6];return e}function l(a){return[a.section_id,a.template_data]}function a(a){var b=d("react-compiler-runtime").c(28),e=a.content;a=a.mediaRenderQpl;var f=e.custom_template_data,g=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),h=g==="ChatTab";b[0]!==h?(g={onImpressionStart:function(){d("MWGenAIRichResponseFallbackQplLogger").markImpression(h?"ChatTab":"FullScreen")}},b[0]=h,b[1]=g):g=b[1];g=c("useSinglePartialViewImpression")(g);if(e.__typename!=="XMSGXmaSingleContent"||(f==null?void 0:f.__typename)!=="XMSGXmaGenAiRichResponseTemplateData")return null;if(!d("MWGenAIRichResponseRenderEligibilityUtils").shouldRenderRichReponseXMA(f)){b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("MWGenAIRichReponseFallback.react"),{isOutgoing:!1}),b[2]=e):e=b[2];b[3]!==g?(e=i.jsx("div",{ref:g,children:e}),b[3]=g,b[4]=e):e=b[4];return e}a!=null&&(a.addPoint("render-xma-v2-template"),a.endSuccess());if(b[5]!==(f==null?void 0:f.sections)){e=(g=f==null?void 0:f.sections)!=null?g:[];b[5]=f==null?void 0:f.sections;b[6]=e}else e=b[6];a=e;g=f==null?void 0:f.streaming_action;e=(e=g==null?void 0:g.insertions)!=null?e:[];if(a.length===0&&e.length===0)return null;e=f==null?void 0:f.search_metadata;if(b[7]!==(e==null?void 0:e.attributions)){f=(f=e==null?void 0:e.attributions)!=null?f:[];b[7]=e==null?void 0:e.attributions;b[8]=f}else f=b[8];f=f;var j=f[0];f.length>1;f=j==null?void 0:j.title;var l=j==null?void 0:j.subtitle,m=j==null?void 0:j.search_query_url;j=j==null?void 0:(j=j.image)==null?void 0:j.url;var n=f!=null&&m!=null,o;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x78zum5 xdt5ytf x193iq5w x1r0jzty"},b[9]=o):o=b[9];var p=n?"bottom":void 0,q;b[10]!==a||b[11]!==g?(q=i.jsx(k,{sections:a,streamingAction:g}),b[10]=a,b[11]=g,b[12]=q):q=b[12];b[13]!==p||b[14]!==q?(a=i.jsx(c("MWXMessageBubble.react"),{align:"left",color:"incoming",connectBottom:!1,connectTop:!1,flattenCorners:p,variant:"default",children:q}),b[13]=p,b[14]=q,b[15]=a):a=b[15];b[16]!==j||b[17]!==l||b[18]!==f||b[19]!==m||b[20]!==n?(g=n&&i.jsx(c("MWXMessageBubble.react"),{align:"left",color:"incoming",connectBottom:!1,connectTop:!1,flattenCorners:"top",variant:"default",children:i.jsx(c("MWXGenAIRichResponseSearchPluginAttachment.react"),{imageUrl:j,queryUrl:m,subtitle:l,title:f})}),b[16]=j,b[17]=l,b[18]=f,b[19]=m,b[20]=n,b[21]=g):g=b[21];q=(p=e==null?void 0:e.sources_url)!=null?p:void 0;b[22]!==q?(j=i.jsx(c("MWXGenAIRichResponseSourcesMustache.react"),{sourcesUrl:q}),b[22]=q,b[23]=j):j=b[23];b[24]!==j||b[25]!==a||b[26]!==g?(l=i.jsxs("div",babelHelpers["extends"]({},o,{children:[a,g,j]})),b[24]=j,b[25]=a,b[26]=g,b[27]=l):l=b[27];return l}g["default"]=a}),98);
__d("MWXMAV2AttachmentStandardGenericTemplate.react",["fbt","ix","CometPageVerificationIcon.react","MSGDataclassTypes.flow","MWLSThreadDisplayContext","MWXColumn.react","MWXColumnItem.react","MWXImage.react","MWXMAV2PressableWrapper.react","MWXRow.react","MWXRowItem.react","MWXText.react","isStringNullOrWhitespaceOnly","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||c("react"),m={cardOverlayWidth:{width:"xg7gh6y",$$css:!0},cardOverlayWidthChatTab:{width:"xrostsh",$$css:!0},cardWidth:{width:"xafpxmx",$$css:!0},cardWidthChatTab:{width:"xzjbwwf",$$css:!0},header_image_style_circle:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xxk0z11",objectFit:"xl1xv1r",width:"xvy4d1p",$$css:!0},previewGradientTop:{background:"xnvtxd0",height:"x1jjfqgs",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",width:"xh8yej3",$$css:!0},previewGradientTopGrid:{background:"xo90atz",height:"x10vz0mv",width:"xh8yej3",$$css:!0},rootOverlay:{aspectRatio:"x15jox0q",$$css:!0},templateRoot:{backgroundColor:"x1xr0vuk",height:"x5yr21d",$$css:!0}},n={image:{objectFit:"xl1xv1r",$$css:!0},imageContainer:{display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"xh8yej3",$$css:!0},imageMaxHeight:{maxHeight:"x1csiy34",$$css:!0},imageMaxHeightChatTab:{maxHeight:"xl8z2ie",$$css:!0},threeImages:{aspectRatio:"x1plog1",width:"xfhlp2a",$$css:!0},twoImages:{aspectRatio:"x1plog1",width:"x3hqpx7",$$css:!0}};function o(a){var b=d("react-compiler-runtime").c(14),e=a.isChatTab,f=a.isOverlayOrVideo,g=a.mediaUrls;a=a.totalMediaCount;var i=g.length,j=a-3;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x1ned7t2 x78zum5 x1q0g3np x5yr21d xh8yej3"},b[0]=a):a=b[0];if(b[1]!==j||b[2]!==e||b[3]!==f||b[4]!==g||b[5]!==i){var m;b[7]!==j||b[8]!==e||b[9]!==f||b[10]!==i?(m=function(a,b){return l.createElement("div",babelHelpers["extends"]({},(k||(k=c("stylex"))).props([n.imageContainer,!f&&(e?n.imageMaxHeightChatTab:n.imageMaxHeight),i===2&&n.twoImages,i>2&&n.threeImages]),{key:b}),l.jsx(c("MWXImage.react"),{src:a,width:"100%",xstyle:n.image}),b===2&&j>0&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"x1pincqn x5yr21d x10l6tqk x13vifvy xh8yej3"}),l.jsx("div",babelHelpers["extends"]({className:"x10l6tqk xtzzx4i xwa60dl x11lhmoz x1vjfegm"},{children:l.jsx(c("MWXText.react"),{color:"white",type:"headlineEmphasized4",children:h._(/*BTDS*/"+{value}",[h._param("value",j)])})}))]}))},b[7]=j,b[8]=e,b[9]=f,b[10]=i,b[11]=m):m=b[11];m=g.slice(0,3).map(m);b[1]=j;b[2]=e;b[3]=f;b[4]=g;b[5]=i;b[6]=m}else m=b[6];b[12]!==m?(g=l.jsx("div",babelHelpers["extends"]({},a,{children:m})),b[12]=m,b[13]=g):g=b[13];return g}function p(a){var b=d("react-compiler-runtime").c(25),e=a.body,f=a.header,g=a.isChatTab,h=a.isOverlayOrVideo;a=a.preview;if((a==null?void 0:a.__typename)==null){var i;b[0]!==f?(i=l.jsx(r,{hasPreview:!1,header:f,titleColor:"primary"}),b[0]=f,b[1]=i):i=b[1];return i}b[2]===Symbol["for"]("react.memo_cache_sentinel")?(i=[],b[2]=i):i=b[2];i=i;switch(a==null?void 0:a.__typename){case"XMSGXmaStandardGenericMultiMediaPreview":if(b[3]!==(a==null?void 0:a.medias)){var j;j=a==null?void 0:(j=a.medias)==null?void 0:j.map(q).filter(Boolean);b[3]=a==null?void 0:a.medias;b[4]=j}else j=b[4];i=j;case"XMSGXmaStandardGenericVideoPreview":j=a==null?void 0:(j=a.preview)==null?void 0:j.url;if(j!=null){var n;b[5]!==j?(n=[j],b[5]=j,b[6]=n):n=b[6];i=n}}if(!i||i.length===0){b[7]!==f?(j=l.jsx(r,{hasPreview:!1,header:f,titleColor:"primary"}),b[7]=f,b[8]=j):j=b[8];return j}n=e==null?void 0:e.source_decoration_type;j=e==null?void 0:e.source_text;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x1jfb8zj x5yr21d x1n2onr6"},b[9]=e):e=b[9];a=(a=a==null?void 0:a.total_media_count)!=null?a:i.length;var p;b[10]!==g||b[11]!==h||b[12]!==i||b[13]!==a?(p=l.jsx(o,{isChatTab:g,isOverlayOrVideo:h,mediaUrls:i,totalMediaCount:a}),b[10]=g,b[11]=h,b[12]=i,b[13]=a,b[14]=p):p=b[14];b[15]!==f||b[16]!==i?(g=f!=null&&l.jsxs(l.Fragment,{children:[l.jsx("div",babelHelpers["extends"]({},(k||(k=c("stylex"))).props(m.previewGradientTop,i.length>2&&m.previewGradientTopGrid))),l.jsx("div",babelHelpers["extends"]({className:"x10l6tqk x17qophe x13vifvy xh8yej3"},{children:l.jsx(r,{hasPreview:!0,header:f,titleColor:"white"})}))]}),b[15]=f,b[16]=i,b[17]=g):g=b[17];b[18]!==n||b[19]!==j?(h=!c("isStringNullOrWhitespaceOnly")(j)&&j!=null&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"xudvloq x1ey2m1c x1jjfqgs x10l6tqk x17qophe xh8yej3"}),l.jsx("div",babelHelpers["extends"]({className:"xn0vg7t x10l6tqk xoie2o3"},{children:l.jsx(t,{paddingTop:0,placement:"overlay",sourceText:j,subtitleDecorationType:n})}))]}),b[18]=n,b[19]=j,b[20]=h):h=b[20];b[21]!==p||b[22]!==g||b[23]!==h?(a=l.jsxs("div",babelHelpers["extends"]({},e,{children:[p,g,h]})),b[21]=p,b[22]=g,b[23]=h,b[24]=a):a=b[24];return a}function q(a){return a.url}function r(a){var b,e=d("react-compiler-runtime").c(13),f=a.hasPreview,g=a.header;a=a.titleColor;if(g==null)return null;var h=g.verified_type===d("MSGDataclassTypes.flow").XmsgXmaVerifiedType.Default;b=(b=g.image)==null?void 0:b.url;g=g.title;var i;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(i={className:"x6s0dn4 xfex06f x78zum5 x1nhvcw1 xz9dl7a xn6708d x18d9i69 x1ye3gou"},e[0]=i):i=e[0];var j;e[1]!==b?(j=b!=null&&!c("isStringNullOrWhitespaceOnly")(b)&&l.jsx(c("MWXImage.react"),{src:b,xstyle:m.header_image_style_circle}),e[1]=b,e[2]=j):j=e[2];e[3]!==g||e[4]!==a?(b=!c("isStringNullOrWhitespaceOnly")(g)&&g!=null&&l.jsx(c("MWXText.react"),{color:a,numberOfLines:1,type:"headlineEmphasized4",children:g}),e[3]=g,e[4]=a,e[5]=b):b=e[5];e[6]!==f||e[7]!==h?(g=h&&l.jsx(c("CometPageVerificationIcon.react"),{isInverted:f,size:"small",verificationBadge:"BLUE_VERIFIED"}),e[6]=f,e[7]=h,e[8]=g):g=e[8];e[9]!==j||e[10]!==b||e[11]!==g?(a=l.jsxs("div",babelHelpers["extends"]({},i,{children:[j,b,g]})),e[9]=j,e[10]=b,e[11]=g,e[12]=a):a=e[12];return a}function s(a){var b=d("react-compiler-runtime").c(17);a=a.body;var e=c("isStringNullOrWhitespaceOnly")(a.title),f=c("isStringNullOrWhitespaceOnly")(a.subtitle);f=!e&&!f?8:0;if(b[0]!==a.max_title_num_lines||b[1]!==a.title){var g;g=a.title!=null&&l.jsx(c("MWXColumnItem.react"),{children:l.jsx(c("MWXText.react"),{color:"primary",numberOfLines:(g=a.max_title_num_lines)!=null?g:3,type:"headlineEmphasized4",children:a.title})});b[0]=a.max_title_num_lines;b[1]=a.title;b[2]=g}else g=b[2];e=e?0:8;if(b[3]!==a.max_subtitle_num_lines||b[4]!==a.subtitle){var h;h=a.subtitle!=null&&l.jsx(c("MWXColumnItem.react"),{children:l.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:(h=a.max_subtitle_num_lines)!=null?h:3,type:"body4",children:a.subtitle})});b[3]=a.max_subtitle_num_lines;b[4]=a.subtitle;b[5]=h}else h=b[5];var i;b[6]!==a.source_decoration_type||b[7]!==a.source_text||b[8]!==f?(i=a.source_text!=null&&l.jsx(c("MWXColumnItem.react"),{children:l.jsx(t,{paddingTop:f,placement:"body",sourceText:a.source_text,subtitleDecorationType:a.source_decoration_type})}),b[6]=a.source_decoration_type,b[7]=a.source_text,b[8]=f,b[9]=i):i=b[9];b[10]!==e||b[11]!==h||b[12]!==i?(a=l.jsxs(c("MWXColumn.react"),{expanding:!0,paddingTop:e,verticalAlign:"bottom",children:[h,i]}),b[10]=e,b[11]=h,b[12]=i,b[13]=a):a=b[13];b[14]!==g||b[15]!==a?(f=l.jsxs(c("MWXColumn.react"),{expanding:!0,paddingHorizontal:12,paddingVertical:12,children:[g,a]}),b[14]=g,b[15]=a,b[16]=f):f=b[16];return f}function t(a){var b=d("react-compiler-runtime").c(13),e=a.paddingTop,f=a.placement,g=a.sourceText;a=a.subtitleDecorationType;f=f==="overlay";var h=null;if(a!=null)bb0:switch(a){case d("MSGDataclassTypes.flow").XmsgXmaSubtitleDecorationType.FacebookIcon:b[0]!==f?(a=f?i("845914"):i("845912"),b[0]=f,b[1]=a):a=b[1];a=a;var j;b[2]!==a?(j=l.jsx(c("MWXImage.react"),{src:a}),b[2]=a,b[3]=j):j=b[3];h=j;break bb0;default:}b[4]!==h?(a=h!=null&&l.jsx(c("MWXRowItem.react"),{children:h}),b[4]=h,b[5]=a):a=b[5];b[6]!==f||b[7]!==g?(j=!c("isStringNullOrWhitespaceOnly")(g)&&g!=null&&l.jsx(c("MWXRowItem.react"),{children:l.jsx(c("MWXText.react"),{color:f?"white":"secondary",numberOfLines:1,type:"body4",children:g})}),b[6]=f,b[7]=g,b[8]=j):j=b[8];b[9]!==e||b[10]!==a||b[11]!==j?(h=l.jsxs(c("MWXRow.react"),{align:"start",paddingHorizontal:0,paddingTop:e,spacing:4,verticalAlign:"center",children:[a,j]}),b[9]=e,b[10]=a,b[11]=j,b[12]=h):h=b[12];return h}function a(a){var b=d("react-compiler-runtime").c(24),e=a.content,f=a.handleXmaClickLogging,g=a.handleXmaOnNavigation,h=a.mediaRenderQpl;a=a.template;var i=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();i=i==="ChatTab";h!=null&&(h.addPoint("render-xma-v2-template"),h.endSuccess());h=((h=a.config)==null?void 0:h.body_layout_type)===d("MSGDataclassTypes.flow").XmsgXmaStandardGenericBodyLayoutType.Overlay;var j=a.body,k=a.header;a=a.preview;e=e.default_cta;var n=h||(a==null?void 0:a.__typename)==="XMSGXmaStandardGenericVideoPreview",o=!i&&(n?m.cardOverlayWidth:m.cardWidth),q=i&&(n?m.cardOverlayWidthChatTab:m.cardWidthChatTab),r=n&&m.rootOverlay,t;b[0]!==o||b[1]!==q||b[2]!==r?(t=[m.templateRoot,o,q,r],b[0]=o,b[1]=q,b[2]=r,b[3]=t):t=b[3];b[4]!==j||b[5]!==k||b[6]!==i||b[7]!==h||b[8]!==n||b[9]!==a?(o=(k!=null||a!=null)&&l.jsx(c("MWXColumnItem.react"),{expanding:a!=null,children:l.jsx(p,{body:h?j:null,header:k,isChatTab:i,isOverlayOrVideo:n,preview:a})}),b[4]=j,b[5]=k,b[6]=i,b[7]=h,b[8]=n,b[9]=a,b[10]=o):o=b[10];b[11]!==j||b[12]!==h||b[13]!==a?(q=!h&&j!=null&&l.jsx(c("MWXColumnItem.react"),{expanding:a==null,children:l.jsx(s,{body:j})}),b[11]=j,b[12]=h,b[13]=a,b[14]=q):q=b[14];b[15]!==t||b[16]!==o||b[17]!==q?(r=l.jsxs(c("MWXColumn.react"),{expanding:!0,xstyle:t,children:[o,q]}),b[15]=t,b[16]=o,b[17]=q,b[18]=r):r=b[18];b[19]!==e||b[20]!==f||b[21]!==g||b[22]!==r?(k=l.jsx(c("MWXMAV2PressableWrapper.react"),{cta:e,handleXmaClickLogging:f,handleXmaOnNavigation:g,children:r}),b[19]=e,b[20]=f,b[21]=g,b[22]=r,b[23]=k):k=b[23];return k}g["default"]=a}),226);
__d("MWThreadLiveLocationSessionsSetterContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");h||(h=c("react"));e=b.createContext;var j=b.useContext,k=e({addOrUpdateSession:c("emptyFunction")});function a(){return j(k)}g.MAWThreadLiveLocationSessionsSetterContext=k;g.useThreadMAWLiveLocationSessionsSetterContext=a}),98);
__d("MWThreadLiveLocationSessionsStateContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");h||(h=c("react"));e=b.createContext;var j=b.useContext,k=e({sessions:{}});function a(){return j(k)}g.MAWThreadLiveLocationSessionsStateContext=k;g.useThreadMAWLiveLocationSessionsStateContext=a}),98);
__d("MWXMAV2LiveLocationTemplate.react",["fbt","ix","I64","MAWChatLiveLocationDialog.entrypoint","MSGDataclassTypes.flow","MWLSThreadDisplayContext","MWThreadKey.react","MWThreadLiveLocationSessionsSetterContext.react","MWThreadLiveLocationSessionsStateContext.react","MWXButton.react","MWXColumn.react","MWXColumnItem.react","MWXImage.react","MWXRow.react","MWXRowItem.react","MWXText.react","formatDate","react","react-compiler-runtime","useMWXEntryPointDialog","uuidv4"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||c("react"),m={cardWidth:{width:"xafpxmx",$$css:!0},cardWidthChatTab:{width:"xzjbwwf",$$css:!0},locationIcon:{height:"x10w6t97",width:"x1td3qas",$$css:!0},templateRoot:{backgroundColor:"x1xr0vuk",height:"x5yr21d",$$css:!0}};function n(a){var b=d("react-compiler-runtime").c(5);a=a.eventTimestamp;var e;b[0]!==a?(e=c("formatDate")(new Date(a),{future:"g:ia",older:"m/d/Y g:ia",thisYear:"M jS, g:ia",today:"g:ia",withinWeek:"D g:ia"}),b[0]=a,b[1]=e):e=b[1];a=e;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=l.jsx(c("MWXColumnItem.react"),{children:l.jsx(c("MWXText.react"),{color:"primary",numberOfLines:1,type:"headlineEmphasized5",children:h._(/*BTDS*/"Location-sharing ended")})}),b[2]=e):e=b[2];b[3]!==a?(e=l.jsx(c("MWXColumnItem.react"),{children:l.jsx(c("MWXRowItem.react"),{children:l.jsxs(c("MWXColumn.react"),{spacing:8,children:[e,l.jsx(c("MWXColumnItem.react"),{children:l.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:h._(/*BTDS*/"Last update {endDate}",[h._param("endDate",a)])})})]})})}),b[3]=a,b[4]=e):e=b[4];return e}function o(){var a=d("react-compiler-runtime").c(12),b=d("MWThreadLiveLocationSessionsStateContext.react").useThreadMAWLiveLocationSessionsStateContext(),e=b.sessions;b=d("MWThreadLiveLocationSessionsSetterContext.react").useThreadMAWLiveLocationSessionsSetterContext();var f=b.addOrUpdateSession,g=(j||(j=d("I64"))).to_string(d("MWThreadKey.react").useMWThreadKeyMemoizedExn());a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=c("uuidv4")(),a[0]=b):b=a[0];var k=b;a[1]!==g?(b={clientSubscriptionId:k,threadKey:g},a[1]=g,a[2]=b):b=a[2];b=c("useMWXEntryPointDialog")(c("MAWChatLiveLocationDialog.entrypoint"),b);var n=b[0];a[3]===Symbol["for"]("react.memo_cache_sentinel")?(b=l.jsx(c("MWXRowItem.react"),{children:l.jsx(c("MWXImage.react"),{src:i("293343"),xstyle:m.locationIcon})}),a[3]=b):b=a[3];var o;a[4]===Symbol["for"]("react.memo_cache_sentinel")?(o=l.jsx(c("MWXColumnItem.react"),{children:l.jsx(c("MWXText.react"),{color:"primary",numberOfLines:1,type:"headlineEmphasized5",children:h._(/*BTDS*/"Live location")})}),a[4]=o):o=a[4];a[5]===Symbol["for"]("react.memo_cache_sentinel")?(b=l.jsx(c("MWXColumnItem.react"),{children:l.jsxs(c("MWXRow.react"),{align:"start",paddingHorizontal:0,paddingVertical:0,spacing:8,verticalAlign:"center",children:[b,l.jsx(c("MWXRowItem.react"),{children:l.jsxs(c("MWXColumn.react"),{spacing:4,children:[o,l.jsx(c("MWXColumnItem.react"),{children:l.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"meta4",children:h._(/*BTDS*/"You started sharing")})})]})})]})}),a[5]=b):b=a[5];a[6]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._(/*BTDS*/"View location"),a[6]=o):o=a[6];a[7]!==f||a[8]!==e||a[9]!==n||a[10]!==g?(b=l.jsxs(c("MWXColumn.react"),{paddingHorizontal:0,paddingVertical:0,spacing:8,children:[b,l.jsx(c("MWXColumnItem.react"),{children:l.jsx(c("MWXButton.react"),{label:o,onPress:function(){n({addOrUpdateSession:f,clientSubscriptionId:k,sessions:e,threadKey:g})},type:"secondary"})})]}),a[7]=f,a[8]=e,a[9]=n,a[10]=g,a[11]=b):b=a[11];return b}function a(a){var b=d("react-compiler-runtime").c(9),e=a.mediaRenderQpl;a=a.template;var f=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),g=d("MWThreadLiveLocationSessionsSetterContext.react").useThreadMAWLiveLocationSessionsSetterContext();g=g.addOrUpdateSession;var h=a.location_metadata.user_id,i=a.location_metadata.encryption_key,j=Number(a.location_metadata.event_timestamp_ms);h!=null&&i!=null&&g(h,i,j);g=f==="ChatTab";h=a.location_metadata.session_state===d("MSGDataclassTypes.flow").XmsgXmaLiveLocationSessionState.Ended;e!=null&&(e.addPoint("render-xma-v2-template"),e.endSuccess());i=!g&&m.cardWidth;f=g&&m.cardWidthChatTab;b[0]!==i||b[1]!==f?(a=[m.templateRoot,i,f],b[0]=i,b[1]=f,b[2]=a):a=b[2];b[3]!==j||b[4]!==h?(e=h?l.jsx(n,{eventTimestamp:j}):l.jsx(o,{}),b[3]=j,b[4]=h,b[5]=e):e=b[5];b[6]!==a||b[7]!==e?(g=l.jsx(c("MWXColumn.react"),{paddingHorizontal:12,paddingVertical:12,xstyle:a,children:e}),b[6]=a,b[7]=e,b[8]=g):g=b[8];return g}g["default"]=a}),226);
__d("MWXMAV2SenderCopyMedia.react",["CometPlaceholder.react","FBLogger","MAWAttachmentBlob.react","MAWAttachmentSizeUtils","MAWDownloadMediaInWorker","MAWGetIsMediaDownloadStatusEnabled","MAWIsXMAWithPlaintextHash","MAWStateContext.react","MAWThreadViewAttachmentStateHandlerContent.react","MWV2AttachmentLoadingPlaceholder.react","MWXImage.react","react","react-compiler-runtime","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useContext,l=b.useEffect,m={corners:{borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",borderTopEndRadius:"x13lgxp2",borderTopStartRadius:"x168nmei",$$css:!0}},n=function(a,b){b==null?void 0:b.addPoint("fetch_preview_url_xma_start");a=d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"preview","MAWXMAV2SenderCopyGetPreviewUrl - getSenderCopyPreviewUrl",b);b==null?void 0:b.addPoint("fetch_preview_url_xma_end",{bool:{has_preview:!0,has_url:Boolean(a)},string:{fetch_by:"maw_backend"}});if(a==="")throw c("FBLogger")("messenger_web_sharing").mustfixThrow("XMA 2.0 - SenderCopyMediaSuccessComponent - url is emtpy");return a};function o(a){var b=d("react-compiler-runtime").c(11),e=a.attachment,f=a.mediaRenderQpl;a=a.width;a=a===void 0?"100%":a;var g;b[0]!==e||b[1]!==f?(g=n(e,f),b[0]=e,b[1]=f,b[2]=g):g=b[2];e=g;var h;b[3]!==f?(g=function(){return f==null?void 0:f.endFail("load-image-error")},h=f==null?void 0:f.endSuccess(),b[3]=f,b[4]=g,b[5]=h):(g=b[4],h=b[5]);var i;b[6]!==g||b[7]!==h||b[8]!==e||b[9]!==a?(i=j.jsx(c("MWXImage.react"),{height:"100%",objectFit:"cover",onError:g,onLoad:h,src:e,width:a}),b[6]=g,b[7]=h,b[8]=e,b[9]=a,b[10]=i):i=b[10];return i}function a(a){var b=d("react-compiler-runtime").c(26),e=a.attachment,f=a.cardWidth,g=a.mediaRenderQpl;a=a.width;var h=a===void 0?"100%":a,i=c("useAsyncReStore")(),n=k(d("MAWStateContext.react").MAWDispatchContext);b[0]!==e?(a=d("MAWAttachmentSizeUtils").getSizeFromAttachment(e),b[0]=e,b[1]=a):a=b[1];a=a;var q=a.height,r=a.width;b[2]!==e?(a=d("MAWIsXMAWithPlaintextHash").isXMAWithPlaintextHash(e)&&d("MAWGetIsMediaDownloadStatusEnabled").getIsMediaDownloadStatusForXMAsEnabled(),b[2]=e,b[3]=a):a=b[3];var s=a,t;b[4]!==e||b[5]!==i||b[6]!==n||b[7]!==s||b[8]!==g?(a=function(){e.hasMedia!==!0&&!s&&d("MAWDownloadMediaInWorker").maybeDownloadMediaInWorker({attachment:e,dbPromise:i,dispatch:n,mediaRenderQpl:g,triggerUIView:"thread"})},t=[e,g,n,s,i],b[4]=e,b[5]=i,b[6]=n,b[7]=s,b[8]=g,b[9]=a,b[10]=t):(a=b[9],t=b[10]);l(a,t);if(e.hasXmaPreview===!0&&e.hasMedia===!1&&!s){b[11]!==q||b[12]!==r?(a=j.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:!1,connectTop:!1,descriptionForLogging:"MWXMAV2SenderCopyMedia.NoMedia",hasAppAttribution:!1,height:q,width:r,xstyle:m.corners}),b[11]=q,b[12]=r,b[13]=a):a=b[13];return a}b[14]!==e||b[15]!==g||b[16]!==h?(t=function(a){return j.jsx(c("CometPlaceholder.react"),{fallback:a("MAWXMAAttachmentItemDefaultPreview.Suspense",!0),name:"MAWXMAAttachmentItemDefaultPreview",children:j.jsx(o,{attachment:e,mediaRenderQpl:g,width:h})})},b[14]=e,b[15]=g,b[16]=h,b[17]=t):t=b[17];a=t;b[18]!==e||b[19]!==f||b[20]!==s||b[21]!==g||b[22]!==q||b[23]!==r||b[24]!==a?(t=s?j.jsx(c("MAWThreadViewAttachmentStateHandlerContent.react"),{connectBottom:!1,connectTop:!1,dbAttachment:e,descriptionForLogging:"MWXMAV2SenderCopyMedia",downloadStatusKeyOverride:e.xmaPreviewFbid,errorComponentRenderer:p,loadingPlaceholderStyle:m.corners,mediaRenderQpl:g,placeholderHeight:q,placeholderMaxWidth:f,placeholderWidth:r,successfulComponentRenderer:a,xmaMediaType:"preview"}):a(function(){return j.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:"MWXMAV2SenderCopyMedia.Suspense",height:q,width:r})}),b[18]=e,b[19]=f,b[20]=s,b[21]=g,b[22]=q,b[23]=r,b[24]=a,b[25]=t):t=b[25];return t}function p(){return null}g["default"]=a}),98);
__d("MWXMAV2MemoriesTemplate.react",["fbt","ix","FBLogger","MWLSThreadDisplayContext","MWXColumn.react","MWXColumnItem.react","MWXImage.react","MWXMAV2SenderCopyMedia.react","MWXRow.react","MWXRowItem.react","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||c("react"),l=180,m=240,n={cardWidth:{width:"xafpxmx",$$css:!0},cardWidthChatTab:{width:"xzjbwwf",$$css:!0},footer:{bottom:"x1ey2m1c",position:"x10l6tqk",$$css:!0},headerContainer:{position:"x10l6tqk",start:"x17qophe",left:null,right:null,top:"x13vifvy",$$css:!0},templateRoot:{backgroundColor:"x1xr0vuk",$$css:!0}};function o(){var a=d("react-compiler-runtime").c(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsx(c("MWXRowItem.react"),{children:k.jsx(c("MWXImage.react"),{src:i("849069")})}),a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsxs(c("MWXRow.react"),{align:"start",paddingVertical:8,spacing:8,verticalAlign:"center",xstyle:n.headerContainer,children:[b,k.jsx(c("MWXRowItem.react"),{children:k.jsx(c("MWXText.react"),{color:"white",type:"headlineEmphasized5",children:h._(/*BTDS*/"Memory")})})]}),a[1]=b):b=a[1];return b}function p(a){var b=d("react-compiler-runtime").c(4);a=a.originalMessageCreationTs;a=parseInt(a,10)*1e3;var e;b[0]!==a?(e=new Date(a).toLocaleDateString("default",{day:"numeric",month:"long",year:"numeric"}),b[0]=a,b[1]=e):e=b[1];a=e;b[2]!==a?(e=k.jsx(c("MWXRow.react"),{align:"start",paddingHorizontal:16,paddingVertical:16,xstyle:n.footer,children:k.jsx(c("MWXRowItem.react"),{children:k.jsx(c("MWXText.react"),{color:"white",type:"headlineEmphasized5",children:a})})}),b[2]=a,b[3]=e):e=b[3];return e}function a(a){var b=d("react-compiler-runtime").c(19),e=a.attachmentForSenderCopyMediaDownload,f=a.mediaRenderQpl;a=a.template;var g=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();g=g==="ChatTab";if(e==null)throw c("FBLogger")("messenger_web_product").mustfixThrow("Attachment for Sender Copy Media Download is null for MWXMAV2MemoriesTemplate");f!=null&&(f.addPoint("render-xma-v2-template"),f.endSuccess());var h=!g&&n.cardWidth,i=g&&n.cardWidthChatTab,j;b[0]!==h||b[1]!==i?(j=[n.templateRoot,h,i],b[0]=h,b[1]=i,b[2]=j):j=b[2];var q,r;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(h={className:"x5yr21d x1n2onr6"},i=k.jsx("div",{className:"xq6dov1 xoverlg x10l6tqk x17qophe x13vifvy xh8yej3"}),q=k.jsx("div",{className:"x152gpt9 x1ey2m1c xoverlg x10l6tqk x17qophe xh8yej3"}),r=k.jsx(o,{}),b[3]=h,b[4]=i,b[5]=q,b[6]=r):(h=b[3],i=b[4],q=b[5],r=b[6]);g=g?l:m;var s;b[7]!==e||b[8]!==f||b[9]!==g?(s=k.jsx(c("MWXMAV2SenderCopyMedia.react"),{attachment:e,cardWidth:g,mediaRenderQpl:f}),b[7]=e,b[8]=f,b[9]=g,b[10]=s):s=b[10];b[11]!==a.original_message_creation_ts?(e=k.jsx(p,{originalMessageCreationTs:a.original_message_creation_ts}),b[11]=a.original_message_creation_ts,b[12]=e):e=b[12];b[13]!==e||b[14]!==s?(f=k.jsx(c("MWXColumnItem.react"),{children:k.jsxs("div",babelHelpers["extends"]({},h,{children:[i,q,r,s,e]}))}),b[13]=e,b[14]=s,b[15]=f):f=b[15];b[16]!==f||b[17]!==j?(g=k.jsx(c("MWXColumn.react"),{xstyle:j,children:f}),b[16]=f,b[17]=j,b[18]=g):g=b[18];return g}g["default"]=a}),226);
__d("MWXMAV2AttachmentTemplateWrapper.react",["FBLogger","MAWIsLiveLocationXmaEnabled","MAWIsMemoriesXmaEnabled","MAWXMAV2GatedTemplateError","MWXMAV2AttachmentBloksTemplate.react","MWXMAV2AttachmentCompactGenericTemplate.react","MWXMAV2AttachmentGenAIRichResponseTemplate.react","MWXMAV2AttachmentStandardGenericTemplate.react","MWXMAV2LiveLocationTemplate.react","MWXMAV2MemoriesTemplate.react","gkx","qex","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(28),e=a.attachmentForSenderCopyMediaDownload,f=a.content,g=a.handleXmaClickLogging,h=a.handleXmaOnNavigation,k=a.mediaRenderQpl,l;b[0]!==k?(a=function(){k==null?void 0:k.addPoint("render-xma-v2-template")},l=[k],b[0]=k,b[1]=a,b[2]=l):(a=b[1],l=b[2]);j(a,l);a=f.custom_template_data;if(a==null)throw c("FBLogger")("messenger_web_sharing").mustfixThrow("Unexpected null custom_template_data for XMA 2.0");l=null;bb0:switch(a.__typename){case"XMSGXmaStandardGenericTemplateData":if(c("gkx")("7835")===!0||c("qex")._("273")===!0){var m;b[3]!==f||b[4]!==a||b[5]!==g||b[6]!==h||b[7]!==k?(m=i.jsx(c("MWXMAV2AttachmentStandardGenericTemplate.react"),{content:f,handleXmaClickLogging:g,handleXmaOnNavigation:h,mediaRenderQpl:k,template:a}),b[3]=f,b[4]=a,b[5]=g,b[6]=h,b[7]=k,b[8]=m):m=b[8];l=m}else throw new(d("MAWXMAV2GatedTemplateError").MAWXMAV2GatedTemplateError)(a.__typename);break bb0;case"XMSGXmaCompactGenericTemplateData":if((m=c("qex")._("1590"))!=null?m:!1){b[9]!==f||b[10]!==a||b[11]!==g||b[12]!==h||b[13]!==k?(m=i.jsx(c("MWXMAV2AttachmentCompactGenericTemplate.react"),{content:f,handleXmaClickLogging:g,handleXmaOnNavigation:h,mediaRenderQpl:k,template:a}),b[9]=f,b[10]=a,b[11]=g,b[12]=h,b[13]=k,b[14]=m):m=b[14];l=m}else throw new(d("MAWXMAV2GatedTemplateError").MAWXMAV2GatedTemplateError)(a.__typename);break bb0;case"XMSGXmaBloksTemplateData":b[15]!==a||b[16]!==k?(g=i.jsx(c("MWXMAV2AttachmentBloksTemplate.react"),{mediaRenderQpl:k,template:a}),b[15]=a,b[16]=k,b[17]=g):g=b[17];l=g;break bb0;case"XMSGXmaLocationTemplateData":if(d("MAWIsLiveLocationXmaEnabled").isLiveLocationXmaEnabled()){b[18]!==a||b[19]!==k?(h=i.jsx(c("MWXMAV2LiveLocationTemplate.react"),{mediaRenderQpl:k,template:a}),b[18]=a,b[19]=k,b[20]=h):h=b[20];l=h}else throw new(d("MAWXMAV2GatedTemplateError").MAWXMAV2GatedTemplateError)(a.__typename);break bb0;case"XMSGXmaGenAiRichResponseTemplateData":if(c("gkx")("9770")===!0){b[21]!==f||b[22]!==k?(m=i.jsx(c("MWXMAV2AttachmentGenAIRichResponseTemplate.react"),{content:f,mediaRenderQpl:k}),b[21]=f,b[22]=k,b[23]=m):m=b[23];l=m}else throw new(d("MAWXMAV2GatedTemplateError").MAWXMAV2GatedTemplateError)(a.__typename);break bb0;case"XMSGXmaMemoriesTemplateData":if(d("MAWIsMemoriesXmaEnabled").isMemoriesXmaEnabled()){b[24]!==e||b[25]!==a||b[26]!==k?(g=i.jsx(c("MWXMAV2MemoriesTemplate.react"),{attachmentForSenderCopyMediaDownload:e,mediaRenderQpl:k,template:a}),b[24]=e,b[25]=a,b[26]=k,b[27]=g):g=b[27];l=g}else throw new(d("MAWXMAV2GatedTemplateError").MAWXMAV2GatedTemplateError)(a.__typename)}if(l==null)throw c("FBLogger")("messenger_web_sharing").mustfixThrow("Unsupported XMA 2.0 template type %s",a.__typename);return l}g["default"]=a}),98);
__d("MWXMAV2EmphasisRing.react",["MWChatBubbleEmphasisRing.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react");function a(a){var b=d("react-compiler-runtime").c(13),e=a.children,f=a.connectBottom,g=a.connectTop,h=a.flattenTop,j=a.hasEmphasisRing,k=a.message;a=a.outgoing;var l;b[0]!==g||b[1]!==h?(l=!h&&g?i.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}):null,b[0]=g,b[1]=h,b[2]=l):l=b[2];b[3]!==e||b[4]!==f||b[5]!==g||b[6]!==j||b[7]!==k||b[8]!==a?(h=j===!0?i.jsx("div",babelHelpers["extends"]({className:"x1rg5ohu"},{children:i.jsx(c("MWChatBubbleEmphasisRing.react"),{connectBottom:f,connectTop:g,message:k,outgoing:a,precedesXMA:!1,children:e})})):e,b[3]=e,b[4]=f,b[5]=g,b[6]=j,b[7]=k,b[8]=a,b[9]=h):h=b[9];b[10]!==l||b[11]!==h?(e=i.jsxs(i.Fragment,{children:[l,h]}),b[10]=l,b[11]=h,b[12]=e):e=b[12];return e}g["default"]=a}),98);
__d("MWXMAV2HscrollLayoutUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(((d=d.custom_template_data)==null?void 0:d.__typename)==="XMSGXmaBloksTemplateData")return!0}return!1}f.isDisableMaxHeightForXMAV2HscrollLayout=a}),66);
__d("useIssueXMAReceiverFetchTask",["FBLogger","Int64Hooks","LSAnonymizedMsgrWebE2EEXmaReceiverFetchDispatchStoredProcedure","LSFactory","LSIntEnum","LSXmaContentType","MAWReceiverFetchQPLLogger","MessagingACSClientTokenStoreContext.react","Promise","cr:8567","gkx","promiseDone","react","useAsyncReStore","useXMAPreviewsDisabledSetting"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=j||d("react");var k=e.useContext,l=e.useRef;function m(a,e,g,i){if(g==null){d("MAWReceiverFetchQPLLogger").logFailure(e,"RECEIVER_FECH_PARAMS_IS_NULL","xmaReceiverFetchParams is null");return(h||(h=b("Promise"))).resolve()}d("MAWReceiverFetchQPLLogger").logPreviewFetchStart(e);if(b("cr:8567"))return b("cr:8567").fetchGraphQLXMAReceiverFetchData(a,e,g,i);var j=c("gkx")("8698");return a.runInTransaction(function(a){return c("LSAnonymizedMsgrWebE2EEXmaReceiverFetchDispatchStoredProcedure")(c("LSFactory")(a),{contentRef:g,messageId:e,videoPsProductHoldout2024h2Launch:j})},"readwrite",void 0,void 0,f.id+":62")}function a(a,b,e,g,h,j){var n=c("useAsyncReStore")(),o=c("useXMAPreviewsDisabledSetting")(),p=l(!1),q=k(d("MessagingACSClientTokenStoreContext.react").MessagingACSClientTokenStoreContext);d("Int64Hooks").useEffectInt64(function(){if(h==null||(i||(i=d("LSIntEnum"))).toNumber(h)!==c("LSXmaContentType").MSG_RECEIVER_FETCH||o||p.current)return;var k;try{k=g!=null?JSON.parse(g):null}catch(a){k=null,c("FBLogger")("messenger_web_sharing").mustfix("Failed to parse contentRef as XmsgMsgrXmaContentRefDataclass")}var l=JSON.stringify((k=k)==null?void 0:k.fetch_params);if(l==null){j==null?void 0:j.addPoint("missing_message_or_receiver_fetch_params");c("promiseDone")(n,function(g){if(b==null){j==null?void 0:j.endFail("missing_attachment");return}g.runInTransaction(function(f){return f.attachments.upsert([e,a,b.attachmentFbid],babelHelpers["extends"]({},b,{hasXmaPreview:!1,xmaContentType:(i||(i=d("LSIntEnum"))).ofNumber(c("LSXmaContentType").MSG_RECEIVER_FETCH_FALLBACK)}))},"readwrite",void 0,void 0,f.id+":119").then(function(){j==null?void 0:j.addPoint("upsert_rf_fallback_xma_success")})["catch"](function(){j==null?void 0:j.endFail("upsert_rf_fallback_xma_failed")})});return}j==null?void 0:j.addPoint("xma_receiver_fetch_task_start");p.current=!0;d("MAWReceiverFetchQPLLogger").logReceiverFetchXMAStartQPL(a);c("promiseDone")(n,function(b){return m(b,a,l,q)},function(b){j==null?void 0:j.endFail("xma_receiver_fetch_task_fail"),d("MAWReceiverFetchQPLLogger").logFailure(a,"RECEIVER_FETCH_TASK_FAILURE",b),c("FBLogger")("messenger_web_sharing").catching(b).warn("Failed to issue receiver fetch task on mount")})},[n,a,g,o,h,j,q,b,e])}g["default"]=a}),98);
__d("MWXMAV2ReceiverFetchPlaceholder.react",["CometHeroHoldTrigger.react","ConstUriUtils","FBLogger","MWPMessageListAttachmentContainer.react","MWV2ChatBubbleContainer.react","MWV2ChatText.react","MWXMessageBubble.react","MWXSpinner.react","MWXText.react","react","react-compiler-runtime","stylex","useIssueXMAReceiverFetchTask"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={fallbackXma:{marginTop:"x1gslohp",marginEnd:"x11i5rnm",marginBottom:"x12nagc",marginStart:"x1mh8g0r",textAlign:"x1yc453h",whiteSpace:"x126k92a",$$css:!0},unsetWidth:{width:"x4pn7vq",$$css:!0}};function l(a){var b=d("react-compiler-runtime").c(12);a=a.props;var e=a.connectBottom,f=a.connectTop,g=a.message,h=a.outgoing;a=a.receiverFetchParams;a=a==null?void 0:a.actionUrl;var i;b[0]!==g||b[1]!==a?(i=babelHelpers["extends"]({},g,{text:a}),b[0]=g,b[1]=a,b[2]=i):i=b[2];g=i;b[3]!==h||b[4]!==g?(a=j.jsx(c("MWV2ChatText.react"),{isSecureMessage:!1,message:g,outgoing:h}),b[3]=h,b[4]=g,b[5]=a):a=b[5];b[6]!==e||b[7]!==f||b[8]!==h||b[9]!==a||b[10]!==g?(i=j.jsx(c("MWV2ChatBubbleContainer.react"),{connectBottom:e,connectTop:f,message:g,outgoing:h,precedesXMA:!1,children:a}),b[6]=e,b[7]=f,b[8]=h,b[9]=a,b[10]=g,b[11]=i):i=b[11];return i}function m(a){var b=d("react-compiler-runtime").c(18);a=a.props;var e=a.attachment,f=a.connectBottom,g=a.connectTop,i=a.mediaRenderQpl,l=a.message;a=a.outgoing;i==null?void 0:i.addPoint("fetch_xma_data_receiver_fetch");if(b[0]!==(e==null?void 0:e.actionUrl)){i=(e==null?void 0:e.actionUrl)!=null?d("ConstUriUtils").getUri(e==null?void 0:e.actionUrl):null;i=i==null?void 0:i.getRegisteredDomain();b[0]=e==null?void 0:e.actionUrl;b[1]=i}else i=b[1];e=i;i=a?"right":"left";var m,n;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(m="xfex06f xzt5al7 x78zum5",n=j.jsx(c("MWXSpinner.react"),{color:"disabled",size:12}),b[2]=m,b[3]=n):(m=b[2],n=b[3]);var o;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(o=(h||(h=c("stylex")))([k.fallbackXma]),b[4]=o):o=b[4];b[5]!==e?(m=j.jsxs("div",{className:m,children:[n,j.jsx(c("MWXText.react"),{color:"secondary",type:"body3",children:j.jsx("div",{className:o,children:e})})]}),b[5]=e,b[6]=m):m=b[6];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(n=j.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWSecureAttachment.receiver_fetch.typing_indicator",hold:!0}),b[7]=n):n=b[7];b[8]!==f||b[9]!==g||b[10]!==i||b[11]!==m?(o=j.jsxs(c("MWXMessageBubble.react"),{align:i,color:"incoming",connectBottom:f,connectTop:g,children:[m,n]}),b[8]=f,b[9]=g,b[10]=i,b[11]=m,b[12]=o):o=b[12];b[13]!==g||b[14]!==l||b[15]!==a||b[16]!==o?(e=j.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:g,message:l,outgoing:a,xstyle:k.unsetWidth,children:o}),b[13]=g,b[14]=l,b[15]=a,b[16]=o,b[17]=e):e=b[17];return e}function n(a){var b=d("react-compiler-runtime").c(4);a=a.props;var e=a.attachment,f=a.isFbXmaAndDisabled,g=a.isRfXmaDeleted,h=a.isXmaReceiverFetchFallback,i=a.mediaRenderQpl,k=a.message,n=a.receiverFetchParams;c("useIssueXMAReceiverFetchTask")(k.messageId,e,k.threadKey,n==null?void 0:n.xmaReceiverFetchParams,n==null?void 0:n.xmaContentType,i);if(f||h||g){i==null?void 0:i.addPoint("render_rf_xma_fallback");f||g?i==null?void 0:i.endSuccess():h&&(i==null?void 0:i.endFail("fetch_xma_data_receiver_fetch_failed"));b[0]!==a?(e=j.jsx(l,{props:a}),b[0]=a,b[1]=e):e=b[1];return e}b[2]!==a?(k=j.jsx(m,{props:a}),b[2]=a,b[3]=k):k=b[3];return k}function a(a){var b=d("react-compiler-runtime").c(4),e=a.message,f=a.receiverFetchParams;if(e==null){var g;(g=a.mediaRenderQpl)==null?void 0:g.endFail("missing_message");throw c("FBLogger")("messenger_web_sharing").mustfixThrow("Missing message in placeholder")}b[0]!==e||b[1]!==a||b[2]!==f?(g=j.jsx(n,{props:babelHelpers["extends"]({},a,{message:e,receiverFetchParams:f})}),b[0]=e,b[1]=a,b[2]=f,b[3]=g):g=b[3];return g}g["default"]=a}),98);
__d("MWXMAV2AttachmentContainer.react",["CometErrorBoundary.react","FBLogger","LSIntEnum","LSXmaContentType","MAWIsFBXMA","MAWSecurePlaceholder.react","MWUnsupportedXMA.react","MWXMAV2AttachmentLayoutWrapper.react","MWXMAV2AttachmentTemplateWrapper.react","MWXMAV2EmphasisRing.react","MWXMAV2HscrollLayoutUtils","MWXMAV2ReceiverFetchPlaceholder.react","react","react-compiler-runtime","useHandleXmaEventsLogging"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||c("react"),l=(h||(h=d("react"))).useEffect;function a(a){var b=d("react-compiler-runtime").c(18),e=a.attachment,f=a.connectBottom,g=a.connectTop,h=a.currentUserID,i=a.flattenTop,j=a.hasEmphasisRing,l=a.mediaRenderQpl,n=a.message,o=a.outgoing,p;b[0]!==(e==null?void 0:e.xmaContentType)||b[1]!==h||b[2]!==l||b[3]!==n?(p=function(){if(h!=null&&n!=null)return k.jsx(c("MAWSecurePlaceholder.react"),{actorId:h,message:n,xmaContentType:e==null?void 0:e.xmaContentType});else return k.jsx(c("MWUnsupportedXMA.react"),{mediaRenderQpl:l,nextMessage:null,prevMessage:null})},b[0]=e==null?void 0:e.xmaContentType,b[1]=h,b[2]=l,b[3]=n,b[4]=p):p=b[4];var q;b[5]!==a?(q=k.jsx(m,babelHelpers["extends"]({},a)),b[5]=a,b[6]=q):q=b[6];b[7]!==p||b[8]!==q?(a=k.jsx(c("CometErrorBoundary.react"),{fallback:p,children:q}),b[7]=p,b[8]=q,b[9]=a):a=b[9];b[10]!==f||b[11]!==g||b[12]!==i||b[13]!==j||b[14]!==n||b[15]!==o||b[16]!==a?(p=k.jsx(c("MWXMAV2EmphasisRing.react"),{connectBottom:f,connectTop:g,flattenTop:i,hasEmphasisRing:j,message:n,outgoing:o,children:a}),b[10]=f,b[11]=g,b[12]=i,b[13]=j,b[14]=n,b[15]=o,b[16]=a,b[17]=p):p=b[17];return p}function m(a){var b=d("react-compiler-runtime").c(51),e=a.attachment,f=a.connectBottom,g=a.connectTop,h=a.flattenTop,j=a.mediaRenderQpl,m=a.message,n=a.outgoing,o=a.receiverFetchParams,p=a.threadType,q=a.xmaDataclass;a=a.xmaEventImpressionLoggingRef;var r,s;b[0]!==e||b[1]!==j?(r=function(){j==null?void 0:j.addAttachmentAnnotations==null?void 0:j.addAttachmentAnnotations(e)},s=[e,j],b[0]=e,b[1]=j,b[2]=r,b[3]=s):(r=b[2],s=b[3]);l(r,s);b[4]!==e||b[5]!==m||b[6]!==p?(r={attachment:e,message:m,threadType:p},b[4]=e,b[5]=m,b[6]=p,b[7]=r):r=b[7];s=c("useHandleXmaEventsLogging")(r);var t=s.handleXmaClickLogging,u=s.handleXmaOnNavigation;p=(o==null?void 0:o.xmaContentType)!=null&&(i||(i=d("LSIntEnum"))).toNumber(o.xmaContentType)===c("LSXmaContentType").MSG_RECEIVER_FETCH_ENT_DELETED;r=(o==null?void 0:o.isReceiverFetchXma)===!0&&q==null;s=(o==null?void 0:o.xmaContentType)!=null&&(i||(i=d("LSIntEnum"))).toNumber(o.xmaContentType)===c("LSXmaContentType").MSG_RECEIVER_FETCH_FALLBACK;var v;b[8]!==(o==null?void 0:o.xmaContentType)||b[9]!==(o==null?void 0:o.xmaPreviewsDisabled)?(v=(o==null?void 0:o.xmaPreviewsDisabled)===!0&&d("MAWIsFBXMA").isFBXMA(o==null?void 0:o.xmaContentType),b[8]=o==null?void 0:o.xmaContentType,b[9]=o==null?void 0:o.xmaPreviewsDisabled,b[10]=v):v=b[10];v=v;if(r||v||s||p){b[11]!==e||b[12]!==f||b[13]!==g||b[14]!==v||b[15]!==p||b[16]!==s||b[17]!==j||b[18]!==m||b[19]!==n||b[20]!==o?(r=k.jsx(c("MWXMAV2ReceiverFetchPlaceholder.react"),{attachment:e,connectBottom:f,connectTop:g,isFbXmaAndDisabled:v,isRfXmaDeleted:p,isXmaReceiverFetchFallback:s,mediaRenderQpl:j,message:m,outgoing:n,receiverFetchParams:o}),b[11]=e,b[12]=f,b[13]=g,b[14]=v,b[15]=p,b[16]=s,b[17]=j,b[18]=m,b[19]=n,b[20]=o,b[21]=r):r=b[21];return r}if(q==null)throw c("FBLogger")("messenger_web_sharing").mustfixThrow("Unexpected null xmaDataclass for XMA 2.0");v=q.layout_type;if(v==null)throw c("FBLogger")("messenger_web_sharing").mustfixThrow("Unexpected null layout_type for XMA 2.0");p=q.content;if(p==null)throw c("FBLogger")("messenger_web_sharing").mustfixThrow("Unexpected null content for XMA 2.0");if((p==null?void 0:p.__typename)==="XMSGXmaBloksContent")throw c("FBLogger")("messenger_web_product").mustfixThrow("XMSGXmaBloksContent is unsupported, Bloks XMAs should be using XMA 2.0");b[22]!==p?(s=(p==null?void 0:p.__typename)==="XMSGXmaSingleContent"?[p]:p.list,b[22]=p,b[23]=s):s=b[23];m=s;b[24]!==m?(o=d("MWXMAV2HscrollLayoutUtils").isDisableMaxHeightForXMAV2HscrollLayout(m),b[24]=m,b[25]=o):o=b[25];r=o;p=q.layout_extension;b[26]===Symbol["for"]("react.memo_cache_sentinel")?(s={className:"x1eb86dx x78zum5 x193iq5w"},b[26]=s):s=b[26];if(b[27]!==e||b[28]!==t||b[29]!==u||b[30]!==j||b[31]!==m){b[33]!==e||b[34]!==t||b[35]!==u||b[36]!==j?(o=function(a,b){return k.jsx(c("MWXMAV2AttachmentTemplateWrapper.react"),{attachmentForSenderCopyMediaDownload:e,content:a,handleXmaClickLogging:t,handleXmaOnNavigation:u,mediaRenderQpl:j},b)},b[33]=e,b[34]=t,b[35]=u,b[36]=j,b[37]=o):o=b[37];q=m.map(o);b[27]=e;b[28]=t;b[29]=u;b[30]=j;b[31]=m;b[32]=q}else q=b[32];b[38]!==f||b[39]!==g||b[40]!==r||b[41]!==h||b[42]!==p||b[43]!==v||b[44]!==j||b[45]!==n||b[46]!==q?(o=k.jsx(c("MWXMAV2AttachmentLayoutWrapper.react"),{connectBottom:f,connectTop:g,disableMaxHeightForHscrollLayout:r,flattenTop:h,layoutExtension:p,layoutType:v,mediaRenderQpl:j,outgoing:n,children:q}),b[38]=f,b[39]=g,b[40]=r,b[41]=h,b[42]=p,b[43]=v,b[44]=j,b[45]=n,b[46]=q,b[47]=o):o=b[47];b[48]!==o||b[49]!==a?(m=k.jsx("div",babelHelpers["extends"]({},s,{ref:a,children:o})),b[48]=o,b[49]=a,b[50]=m):m=b[50];return m}g["default"]=a}),98);
__d("MWMessageRowAttachment.react",["I64","LSIntEnum","MWLSThread","MWMessageListAttachmentContainer.react","MWPActor.react","MWUnsupportedXMA.react","MWXMAV2AttachmentContainer.react","MessengerWebUXLoggerXMAEventLoggingImpl","MetaConfig","gkx","react","react-compiler-runtime","useXMAPreviewsDisabledSetting","useXMAV2Provider"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var b,e,f,g=d("react-compiler-runtime").c(46),h=a.attachments,m=a.connectBottom,n=a.connectTop,o=a.hasMessageEmphasisRing,p=a.hasText,q=a.isSearchPluginAttachment,r=a.isSecureMessage,s=a.mediaRenderQpl,t=a.message,u=a.navigateToRouteForMediaViewer,v=a.nextMessage,w=a.outgoing,x=a.prevMessage;a=a.renderAttachment;var y=d("MWPActor.react").useActor(),z=c("useXMAV2Provider")(h),A=c("useXMAPreviewsDisabledSetting")();s==null?void 0:s.addAnnotations({bool:{renders_with_xma_v2:z!=null}});var B=d("MWLSThread").useThread(t.threadKey,l),C;g[0]!==h[0]||g[1]!==t||g[2]!==B?(C={attachment:h[0],clickCategory:1,message:t,threadType:B},g[0]=h[0],g[1]=t,g[2]=B,g[3]=C):C=g[3];C=d("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventsImpressionLoggerRef(C);if(q){s==null?void 0:s.endSuccess();return null}g[4]!==t.displayedContentTypes?(q=(i||(i=d("I64"))).equal(t.displayedContentTypes,(j||(j=d("LSIntEnum"))).ofNumber(536870912)),g[4]=t.displayedContentTypes,g[5]=q):q=g[5];q=q;b=(b=h[0])==null?void 0:b.actionUrl;e=(e=h[0])==null?void 0:e.xmaContentType;f=(f=h[0])==null?void 0:f.receiverFetchId;var D;g[6]!==q||g[7]!==t.messageId||g[8]!==b||g[9]!==e||g[10]!==f||g[11]!==A?(D={actionUrl:b,isReceiverFetchXma:q,messageId:t.messageId,xmaContentType:e,xmaPreviewsDisabled:A,xmaReceiverFetchParams:f},g[6]=q,g[7]=t.messageId,g[8]=b,g[9]=e,g[10]=f,g[11]=A,g[12]=D):D=g[12];b=D;if(z!=null||q&&c("gkx")("7835")){g[13]!==h[0]||g[14]!==m||g[15]!==n||g[16]!==y||g[17]!==o||g[18]!==p||g[19]!==s||g[20]!==t||g[21]!==w||g[22]!==b||g[23]!==B||g[24]!==z||g[25]!==C?(e=k.jsx(c("MWXMAV2AttachmentContainer.react"),{attachment:h[0],connectBottom:m,connectTop:n,currentUserID:y,flattenTop:p,hasEmphasisRing:o,mediaRenderQpl:s,message:t,outgoing:w,receiverFetchParams:b,threadType:B,xmaDataclass:z,xmaEventImpressionLoggingRef:C}),g[13]=h[0],g[14]=m,g[15]=n,g[16]=y,g[17]=o,g[18]=p,g[19]=s,g[20]=t,g[21]=w,g[22]=b,g[23]=B,g[24]=z,g[25]=C,g[26]=e):e=g[26];return e}if(a!=null&&r){g[27]!==p||g[28]!==s||g[29]!==t||g[30]!==v||g[31]!==w||g[32]!==x||g[33]!==a?(f=a(t,x,v,w,p,s),g[27]=p,g[28]=s,g[29]=t,g[30]=v,g[31]=w,g[32]=x,g[33]=a,g[34]=f):f=g[34];return f}g[35]!==m||g[36]!==n||g[37]!==o||g[38]!==p||g[39]!==s||g[40]!==t||g[41]!==u||g[42]!==v||g[43]!==w||g[44]!==x?(A=(i||(i=d("I64"))).to_string(t.threadKey)===c("MetaConfig")._("83")&&!w?k.jsx(c("MWUnsupportedXMA.react"),{mediaRenderQpl:s,nextMessage:v,prevMessage:x}):k.jsx(c("MWMessageListAttachmentContainer.react"),{connectBottom:m,connectTop:n,hasEmphasisRing:o,hasText:p,mediaRenderQpl:s,message:t,navigateToRouteForMediaViewer:u,outgoing:w}),g[35]=m,g[36]=n,g[37]=o,g[38]=p,g[39]=s,g[40]=t,g[41]=u,g[42]=v,g[43]=w,g[44]=x,g[45]=A):A=g[45];return A}function l(a){return a.threadType}g["default"]=a}),98);
__d("MWPMessageLoggingWrapper.react",["CometHeroInteractionWithDiv.react","MWChatInteraction","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(15),e=a.children,f=a.messageId,g=a.optimisticAttachmentId,i=a.optimisticMessageId;a=a.xstyle;var k;b[0]!==f?(k=d("MWChatInteraction").get(f),b[0]=f,b[1]=k):k=b[1];f=k;b[2]!==i?(k=d("MWChatInteraction").get(i),b[2]=i,b[3]=k):k=b[3];i=k;b[4]!==g?(k=g!=null?d("MWChatInteraction").get(g):null,b[4]=g,b[5]=k):k=b[5];g=k;k=(f=(k=f)!=null?k:i)!=null?f:g;if(k==null){b[6]!==a?(i=(h||(h=c("stylex"))).props(a),b[6]=a,b[7]=i):i=b[7];b[8]!==e||b[9]!==i?(f=j.jsx("div",babelHelpers["extends"]({},i,{children:e})),b[8]=e,b[9]=i,b[10]=f):f=b[10];return f}else{b[11]!==e||b[12]!==k||b[13]!==a?(g=j.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"MESSAGE_RENDER",interactionUUID:k,pageletName:"Message",xstyle:a,children:e}),b[11]=e,b[12]=k,b[13]=a,b[14]=g):g=b[14];return g}}g["default"]=a}),98);
__d("MWV2ChatUnsupportedMessage.react",["fbt","FBLogger","MWV2TombstonedMessage.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.isOutgoing;c("FBLogger")("messenger_browser_clients").warn("Unsupported message type");var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Message unavailable"),b[0]=e):e=b[0];e=e;b[1]!==a?(e=j.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:a,children:e}),b[1]=a,b[2]=e):e=b[2];return e}g.MWV2ChatUnsupportedMessage=a}),226);
__d("MWMessageRowMessageComponent.react",["CometErrorBoundary.react","GroupsCometChatsEngagementLogger","I64","Int64Hooks","LSMessagingThreadTypeUtil","MWBlockedTombstoneMessage.react","MWBlockingProtectionLogging","MWClickedMessageContext.react","MWGroupBlockingProtectionUtils","MWMessageReactionsContainer.react","MWMessageRowAttachment.react","MWPBaseMessage.react","MWPMessageFooter.react","MWPMessageLoggingWrapper.react","MWPMessageReactions.react","MWV2ChatBubbleContainer.react","MWV2ChatEmoji.react","MWV2ChatErrorBubble.react","MWV2ChatText.react","MWV2ChatUnsentMessage.react","MWV2ChatUnsupportedMessage.react","MWV2MessageTimestampTooltip.react","MWXPressable.react","MetaConfig","ReQL","asyncToGeneratorRuntime","cr:120","justknobx","mwpMessageIsReply","promiseDone","react","react-compiler-runtime","useIsMultiReactionEnabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));e=j;f=e.memo;var l=e.useEffect;function a(a){var e=d("react-compiler-runtime").c(89),f=a.attachments,g=a.containerThreadKey,j=a.hasBlockQuoteStyle,m=a.hasClickState,n=a.hasMessageEmphasisRing,o=a.isFirstMessageInGroup,p=a.isLastMessageInGroup,q=a.isSearchPluginAttachment,r=a.isSecureMessage,s=a.mediaRenderQpl,t=a.message,u=a.navigateToRouteForMediaViewer,v=a.nextMessage,w=a.offlineAttachmentId,x=a.originalBumpedMsg,y=a.outgoing,z=a.prevMessage,A=a.reactions,B=a.reactionsV2,C=a.renderAttachment,D=a.threadType,E=j===void 0?!1:j,F=m===void 0?!1:m;a=c("MWClickedMessageContext.react").useHook();var G=a.clickedMessageId,H=a.fetchMessageSeenCount,I=a.hasError,J=a.setClickedMessageId,K=(h||(h=c("useReStore")))(),L=(j=x)!=null?j:t;e[0]!==D?(m=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(D),e[0]=D,e[1]=m):m=e[1];var M=m,N=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(L.threadKey);e[2]!==L?(a=c("mwpMessageIsReply")(L),e[2]=L,e[3]=a):a=e[3];var O=a;e[4]!==G||e[5]!==K||e[6]!==H||e[7]!==I||e[8]!==L.messageId||e[9]!==L.threadKey||e[10]!==J?(x=function(){if(window.getSelection().toString()!=="")return;c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(K.tables.threads).getKeyRange(L.threadKey))),b=a==null?null:yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(K.tables.community_folders).getKeyRange(a.parentThreadKey));a!=null&&b!=null&&d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{mid:L.messageId},community_id:(i||(i=d("I64"))).to_string(b.folderId),event:"render_seen_count",group_id:i.to_string(b.fbGroupId),source:"message_bubble",surface:"thread_view",thread_id:i.to_string(a.threadKey)});if(G===L.messageId&&!I)return J(null);else return H(L.threadKey,L.messageId,b)})())},j=[K,G,L.messageId,L.threadKey,I,J,H],e[4]=G,e[5]=K,e[6]=H,e[7]=I,e[8]=L.messageId,e[9]=L.threadKey,e[10]=J,e[11]=x,e[12]=j):(x=e[11],j=e[12]);var P=d("Int64Hooks").useCallbackInt64(x,j),Q=d("MWBlockingProtectionLogging").useLogTapToReviewAction(L);e[13]!==q||e[14]!==r||e[15]!==s||e[16]!==L.threadKey||e[17]!==C?(m=function(){s==null?void 0:s.addPoint("render-message-row-message-component",{bool:{is_chat_entity_thread:(i||(i=d("I64"))).to_string(L.threadKey)===c("MetaConfig")._("83"),is_message_row_message_componentrender_attachment_prop_set:C!=null,is_search_plugin:q,is_secure_message:r}})},a=[q,r,s,L.threadKey,C],e[13]=q,e[14]=r,e[15]=s,e[16]=L.threadKey,e[17]=C,e[18]=m,e[19]=a):(m=e[18],a=e[19]);l(m,a);e[20]!==O||e[21]!==y?(x=function(){return k.jsx(c("MWV2ChatErrorBubble.react"),{isOutgoing:y,isReply:O})},e[20]=O,e[21]=y,e[22]=x):x=e[22];e[23]!==f||e[24]!==n||e[25]!==q||e[26]!==r||e[27]!==s||e[28]!==L||e[29]!==u||e[30]!==v||e[31]!==y||e[32]!==z||e[33]!==C?(j=function(a,b,d){return k.jsx(c("MWMessageRowAttachment.react"),{attachments:f,connectBottom:b,connectTop:a,hasMessageEmphasisRing:n,hasText:d,isSearchPluginAttachment:q,isSecureMessage:r,mediaRenderQpl:s,message:L,navigateToRouteForMediaViewer:u,nextMessage:v,outgoing:y,prevMessage:z,renderAttachment:C})},e[23]=f,e[24]=n,e[25]=q,e[26]=r,e[27]=s,e[28]=L,e[29]=u,e[30]=v,e[31]=y,e[32]=z,e[33]=C,e[34]=j):j=e[34];e[35]!==n||e[36]!==r||e[37]!==L?(m=function(){return k.jsx(c("MWV2ChatEmoji.react"),{hasEmphasisRing:n,isSecureMessage:r,message:L})},e[35]=n,e[36]=r,e[37]=L,e[38]=m):m=e[38];e[39]!==g||e[40]!==E||e[41]!==n||e[42]!==r||e[43]!==L||e[44]!==y||e[45]!==D?(a=function(a,b,d,e){return k.jsx(c("MWV2ChatBubbleContainer.react"),{connectBottom:d,connectTop:b,hasEmphasisRing:n,message:L,outgoing:y,precedesXMA:e,children:k.jsx(c("MWV2ChatText.react"),{containerThreadKey:g,containerThreadType:D,hasBlockQuoteStyle:E,isSecureMessage:r,message:L,outgoing:y})})},e[39]=g,e[40]=E,e[41]=n,e[42]=r,e[43]=L,e[44]=y,e[45]=D,e[46]=a):a=e[46];var R;e[47]!==F||e[48]!==M||e[49]!==L||e[50]!==w||e[51]!==P?(R=function(a,d){a=k.jsx(c("MWPMessageLoggingWrapper.react"),{messageId:L.messageId,optimisticAttachmentId:w,optimisticMessageId:L.offlineThreadingId,xstyle:d,children:M&&!c("justknobx")._("641")&&b("cr:120")?k.jsx(b("cr:120"),{message:L,children:a}):k.jsx(c("MWV2MessageTimestampTooltip.react"),{message:L,children:a})});return F?k.jsx(c("MWXPressable.react"),{onPress:P,overlayDisabled:!0,xstyle:d,children:a}):a},e[47]=F,e[48]=M,e[49]=L,e[50]=w,e[51]=P,e[52]=R):R=e[52];var S;e[53]!==N||e[54]!==t||e[55]!==y||e[56]!==A||e[57]!==B?(S=function(){if(N)return null;var a=B!=null&&B.length>0;return k.jsx(d("MWPMessageFooter.react").MWPMessageFooter,{outgoing:y,children:!a&&A.length<1?null:k.jsx(d("MWPMessageReactions.react").MWPMessageReactions,{message:t,outgoing:y,reactions:A,reactionsV2:a?B:void 0,children:function(b,d,e,f,g){return k.jsx(c("MWMessageReactionsContainer.react"),{count:d,emojis:b,message:f,reactions:e,reactionsV2:a?B:void 0,threadKey:g})}})})},e[53]=N,e[54]=t,e[55]=y,e[56]=A,e[57]=B,e[58]=S):S=e[58];var T=d("MWGroupBlockingProtectionUtils").useShouldEnableBlockingProtection(L.threadKey)?function(a){var b=function(){a(),Q()};return k.jsx(d("MWBlockedTombstoneMessage.react").MWBlockedTombstoneMessage,{isLastMessageInGroup:p,message:L,onClick:b,source:d("MWBlockedTombstoneMessage.react").MWBlockedTombstoneMessageSource.ORIGINAL_MESSAGE})}:void 0,U;e[59]!==r||e[60]!==L||e[61]!==y?(U=function(){return k.jsx(c("MWV2MessageTimestampTooltip.react"),{message:L,children:k.jsx(d("MWV2ChatUnsentMessage.react").MWV2ChatUnsentMessage,{isSecureMessage:r,message:L,outgoing:y})})},e[59]=r,e[60]=L,e[61]=y,e[62]=U):U=e[62];var V;e[63]!==L||e[64]!==y?(V=function(){return k.jsx(c("MWV2MessageTimestampTooltip.react"),{message:L,children:k.jsx(d("MWV2ChatUnsupportedMessage.react").MWV2ChatUnsupportedMessage,{isOutgoing:y})})},e[63]=L,e[64]=y,e[65]=V):V=e[65];var W;e[66]!==o||e[67]!==p||e[68]!==q||e[69]!==r||e[70]!==s||e[71]!==L||e[72]!==v||e[73]!==y||e[74]!==z||e[75]!==A||e[76]!==B||e[77]!==j||e[78]!==m||e[79]!==a||e[80]!==R||e[81]!==S||e[82]!==T||e[83]!==U||e[84]!==V?(W=k.jsx(c("MWPBaseMessage.react"),{checkEmoticon:!0,isFirstMessageInGroup:o,isLastMessageInGroup:p,isSearchPluginAttachment:q,isSecureMessage:r,mediaRenderQpl:s,message:L,nextMessage:v,outgoing:y,prevMessage:z,reactions:A,reactionsV2:B,renderAttachment:j,renderEmoji:m,renderMessageBubble:a,renderMessageContainer:R,renderMessageFooter:S,renderMessageFromBlockee:T,renderUnsentMessage:U,renderUnsupportedMessage:V}),e[66]=o,e[67]=p,e[68]=q,e[69]=r,e[70]=s,e[71]=L,e[72]=v,e[73]=y,e[74]=z,e[75]=A,e[76]=B,e[77]=j,e[78]=m,e[79]=a,e[80]=R,e[81]=S,e[82]=T,e[83]=U,e[84]=V,e[85]=W):W=e[85];e[86]!==W||e[87]!==x?(o=k.jsx(c("CometErrorBoundary.react"),{fallback:x,children:W}),e[86]=W,e[87]=x,e[88]=o):o=e[88];return o}e=f(a);g.MWMessageRowMessageComponent=e}),98);
__d("MWRepliesGIF.react",["fbt","CometPlaceholder.react","I64","LSMediaUrlAttachment","MWRepliesImage.react","MWXMessageReplyBubble.react","ReQL","ReQLSuspense","cr:9765","react","react-compiler-runtime","useMAWMediaStatusUIState","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k.useEffect;function n(a){var e=d("react-compiler-runtime").c(28),g=a.isSecureMessage,k=a.mediaRenderQpl,n=a.message;a=a.outgoing;g=g===void 0?!1:g;var o,p;e[0]!==k?(o=function(){k==null?void 0:k.addPoint("render-replies-gif-impl")},p=[k],e[0]=k,e[1]=o,e[2]=p):(o=e[1],p=e[2]);m(o,p);var q=(i||(i=c("useReStore")))();e[3]!==q.tables.attachments||e[4]!==n.replyAttachmentId||e[5]!==n.replyAttachmentPlaintextHash||e[6]!==n.replySourceId||e[7]!==n.threadKey?(o=function(){var a,b=(a=n.replyAttachmentPlaintextHash)!=null?a:null,c=(a=n.replySourceId)!=null?a:"";if(b!=null)return d("ReQL").fromTableAscending(q.tables.attachments).filter(function(a){return a.attachmentFbid===b&&a.messageId===c});else{a=(a=n.replyAttachmentId)!=null?a:(j||(j=d("I64"))).zero;return d("ReQL").fromTableAscending(q.tables.attachments).getKeyRange(n.threadKey,c,(j||(j=d("I64"))).to_string(a))}},e[3]=q.tables.attachments,e[4]=n.replyAttachmentId,e[5]=n.replyAttachmentPlaintextHash,e[6]=n.replySourceId,e[7]=n.threadKey,e[8]=o):o=e[8];e[9]!==q||e[10]!==n?(p=[q,n],e[9]=q,e[10]=n,e[11]=p):p=e[11];o=d("ReQLSuspense").useFirst(o,p,f.id+":47");p=g?o:null;p=c("useMAWMediaStatusUIState")(p,k);p=p.downloadStatus;var r;if(o!=null)if(p!=="downloaded"&&g)r=null;else if(b("cr:9765")==null||!g){e[12]!==o?(p=d("LSMediaUrlAttachment").previewUrl(o),e[12]=o,e[13]=p):p=e[13];r=p}else{e[14]!==o.attachmentFbid||e[15]!==k?(p=b("cr:9765").getAttachmentBlobNonOptional(o.attachmentFbid,"MWRepliesGIF",k),e[14]=o.attachmentFbid,e[15]=k,e[16]=p):p=e[16];r=p}if(r!=null&&r!==""){p=o==null?void 0:o.accessibilitySummaryText;var s;e[17]!==o||e[18]!==g||e[19]!==k||e[20]!==n||e[21]!==a||e[22]!==r||e[23]!==p?(s=l.jsx(c("MWRepliesImage.react"),{attachment:o,height:n.replyMediaPreviewHeight,imageAlt:p,isAnimatedImage:!0,isSecureMessage:g,mediaRenderQpl:k,message:n,outgoing:a,src:r,width:n.replyMediaPreviewWidth}),e[17]=o,e[18]=g,e[19]=k,e[20]=n,e[21]=a,e[22]=r,e[23]=p,e[24]=s):s=e[24];return s}else{e[25]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._(/*BTDS*/"GIF"),e[25]=o):o=e[25];e[26]!==a?(g=l.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:o}),e[26]=a,e[27]=g):g=e[27];return g}}function a(a){var b=d("react-compiler-runtime").c(7),e;b[0]!==a?(e=babelHelpers["extends"]({},a),b[0]=a,b[1]=e):e=b[1];var f;b[2]!==e.mediaRenderQpl?(a=function(){var a;(a=e.mediaRenderQpl)==null?void 0:a.addPoint("render-replies-gif")},f=[e.mediaRenderQpl],b[2]=e.mediaRenderQpl,b[3]=a,b[4]=f):(a=b[3],f=b[4]);m(a,f);b[5]!==e?(a=l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWRepliesGIF",children:l.jsx(n,babelHelpers["extends"]({},e))}),b[5]=e,b[6]=a):a=b[6];return a}g["default"]=a}),226);
__d("MWRepliesRollcallContribution.react",["fbt","CometPlaceholder.react","FDSBlurredBackgroundImage.react","FDSImageCover.react","I64","Int64Hooks","LSFactory","LSIntEnum","LSIssuePointQueryForRollCallConversionStoredProcedure","LSReplyMessageAttachmentType","MWXMessageReplyBubble.react","MWXProfilePhoto.react","MWXText.react","ReQL","ReQLSuspense","cr:2472","getLSMediaMessageReplyMediaUrl","isStringNullOrEmpty","promiseDone","react","react-compiler-runtime","stylex","useJSON","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=k||(k=d("react")),o=k.useEffect,p=213,q=213,r={blurredImage:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",$$css:!0},outgoing:{borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x230xth",$$css:!0},unblurredImageContainer:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",opacity:"x197sbye",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},s=function(a){a=c("isStringNullOrEmpty")(a.replyMessageText)?h._(/*BTDS*/"Prompt contribution"):b("cr:2472")==null?a.replyMessageText:b("cr:2472").unvault(a.replyMessageText);return a};function a(a){var b=d("react-compiler-runtime").c(11),e;b[0]!==a?(e=babelHelpers["extends"]({},a),b[0]=a,b[1]=e):e=b[1];var f;b[2]!==e.mediaRenderQpl?(a=function(){var a;(a=e.mediaRenderQpl)==null?void 0:a.addPoint("render-replies-rollcall-contribution")},f=[e.mediaRenderQpl],b[2]=e.mediaRenderQpl,b[3]=a,b[4]=f):(a=b[3],f=b[4]);o(a,f);a=e;f=a.message;b[5]!==f.replyAttachmentId||b[6]!==f.replyAttachmentType?(a=(m||(m=d("LSIntEnum"))).equal(f.replyAttachmentType,c("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION)&&!(m||(m=d("LSIntEnum"))).equal(f.replyAttachmentId,0),b[5]=f.replyAttachmentId,b[6]=f.replyAttachmentType,b[7]=a):a=b[7];f=a;b[8]!==f||b[9]!==e?(a=n.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWRepliesRollcallContribution",children:f?n.jsx(t,babelHelpers["extends"]({},e)):n.jsx(u,babelHelpers["extends"]({},e))}),b[8]=f,b[9]=e,b[10]=a):a=b[10];return a}function t(a){var b=d("react-compiler-runtime").c(16),e=a.message;a=a.outgoing;var f;b[0]!==e?(f=s(e),b[0]=e,b[1]=f):f=b[1];f=f;e=c("useJSON")((e=e.replyAttachmentExtra)!=null?e:"{}");var g=e.avatar_height,h=e.avatar_url,i=e.avatar_width;e=e.owner_name;var j;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(j={className:"x6s0dn4 x78zum5 x1nhvcw1 x1gslohp x12nagc"},b[2]=j):j=b[2];var k;b[3]!==g||b[4]!==h||b[5]!==i?(k=h!=null&&n.jsx("div",babelHelpers["extends"]({className:"x1emribx"},{children:n.jsx(c("MWXProfilePhoto.react"),{"aria-label":"",size:24,source:{height:g,uri:h,width:i}})})),b[3]=g,b[4]=h,b[5]=i,b[6]=k):k=b[6];b[7]!==e?(g=e!=null&&n.jsx(c("MWXText.react"),{type:"meta2",children:e}),b[7]=e,b[8]=g):g=b[8];b[9]!==k||b[10]!==g?(h=n.jsxs("div",babelHelpers["extends"]({},j,{children:[k,g]})),b[9]=k,b[10]=g,b[11]=h):h=b[11];b[12]!==a||b[13]!==h||b[14]!==f?(i=n.jsxs(c("MWXMessageReplyBubble.react"),{outgoing:a,children:[h,f]}),b[12]=a,b[13]=h,b[14]=f,b[15]=i):i=b[15];return i}function u(a){var b=d("react-compiler-runtime").c(45),e=a.mediaRenderQpl,g=a.message;a=a.outgoing;var h,k;b[0]!==e?(h=function(){e==null?void 0:e.addPoint("render-replies-rollcall-contribution-impl")},k=[e],b[0]=e,b[1]=h,b[2]=k):(h=b[1],k=b[2]);o(h,k);b[3]!==g?(h=s(g),b[3]=g,b[4]=h):h=b[4];k=h;var m=(i||(i=c("useReStore")))();if(b[5]!==g.replyAttachmentExtra){h=(l||(l=d("I64"))).of_string((h=g.replyAttachmentExtra)!=null?h:"0");b[5]=g.replyAttachmentExtra;b[6]=h}else h=b[6];var t=h;b[7]!==m.tables.roll_calls||b[8]!==t?(h=function(){return d("ReQL").fromTableAscending(m.tables.roll_calls).getKeyRange(t)},b[7]=m.tables.roll_calls,b[8]=t,b[9]=h):h=b[9];var u;b[10]!==m||b[11]!==t?(u=[m,t],b[10]=m,b[11]=t,b[12]=u):u=b[12];var v=d("ReQLSuspense").useFirst(h,u,f.id+":159"),w=g.threadKey;b[13]!==m||b[14]!==t||b[15]!==v||b[16]!==w?(h=function(){v||c("promiseDone")(m.runInTransaction(function(a){return c("LSIssuePointQueryForRollCallConversionStoredProcedure")(c("LSFactory")(a),{rollCallId:t,threadKey:w})},"readwrite",void 0,void 0,f.id+":168"))},u=[v,t,w,m],b[13]=m,b[14]=t,b[15]=v,b[16]=w,b[17]=h,b[18]=u):(h=b[17],u=b[18]);d("Int64Hooks").useEffectInt64(h,u);u=(h=v==null?void 0:v.isBlurred)!=null?h:!1;if(b[19]!==g){h=c("getLSMediaMessageReplyMediaUrl")(g);var x;b[24]!==g.replyMediaPreviewHeight?(x=g.replyMediaPreviewHeight!=null?(l||(l=d("I64"))).to_float(g.replyMediaPreviewHeight):0,b[24]=g.replyMediaPreviewHeight,b[25]=x):x=b[25];x=x;var y;b[26]!==g.replyMediaPreviewWidth?(y=g.replyMediaPreviewWidth!=null?(l||(l=d("I64"))).to_float(g.replyMediaPreviewWidth):0,b[26]=g.replyMediaPreviewWidth,b[27]=y):y=b[27];y=y;var z=Math.min(1,p/x),A=Math.min(1,q/y),B;b[28]!==x||b[29]!==z||b[30]!==A?(B=Math.round(x*Math.min(z,A)),b[28]=x,b[29]=z,b[30]=A,b[31]=B):B=b[31];x=B;b[32]!==z||b[33]!==A||b[34]!==y?(B=Math.round(y*Math.min(z,A)),b[32]=z,b[33]=A,b[34]=y,b[35]=B):B=b[35];z=B;A=c("isStringNullOrEmpty")(h);b[19]=g;b[20]=x;b[21]=z;b[22]=h;b[23]=A}else x=b[20],z=b[21],h=b[22],A=b[23];if(!A){b[36]!==u||b[37]!==x||b[38]!==z||b[39]!==a||b[40]!==h?(y=u?n.jsx("div",{style:{height:x,width:z},children:n.jsx(c("FDSBlurredBackgroundImage.react"),{src:h,xstyle:[r.blurredImage,a&&r.outgoing]})}):n.jsx("div",{className:(j||(j=c("stylex")))([r.unblurredImageContainer,a&&r.outgoing]),style:{height:x,width:z},children:n.jsx(c("FDSImageCover.react"),{alt:"",src:h})}),b[36]=u,b[37]=x,b[38]=z,b[39]=a,b[40]=h,b[41]=y):y=b[41];return y}b[42]!==a||b[43]!==k?(B=n.jsx(c("MWXMessageReplyBubble.react"),{outgoing:a,children:k}),b[42]=a,b[43]=k,b[44]=B):B=b[44];return B}g["default"]=a}),226);
__d("MWRepliesText.react",["MWChatTextFormatting","MWChatTextFormattingUtils","MWChatTextTransform","MWXMessageReplyBubble.react","MWXMessageTextWithEntities.react","cr:2472","react","react-compiler-runtime","useStringWithSubstitutions"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;function a(a){var e=d("react-compiler-runtime").c(15),f=a.isSecureMessage,g=a.message,h=a.outgoing;a=a.text;var j;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(j={MessengerTextFormatting:[d("MWChatTextFormatting").messageRenderer]},e[0]=j):j=e[0];j=j;j=j;var k;e[1]!==a?(k=d("MWChatTextFormattingUtils").getFormattingRanges(a),e[1]=a,e[2]=k):k=e[2];k=k;k=k;if(e[3]!==f||e[4]!==g.mentionIds){var l;l=new Set(f?(l=(l=g.mentionIds)==null?void 0:l.split==null?void 0:l.split(","))!=null?l:[]:[]);e[3]=f;e[4]=g.mentionIds;e[5]=l}else l=e[5];f=l;l=f;e[6]!==a?(f=b("cr:2472")==null?a:b("cr:2472").unvault(a),e[6]=a,e[7]=f):f=e[7];a=f;g=(l=(f=d("useStringWithSubstitutions").useStringWithMentionSubstitutionsAndUpdatedRanges(a,[],l,g.threadKey))==null?void 0:f.textWithSubstitutions)!=null?l:a;e[8]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"xi81zsa x126k92a"},e[8]=f):f=e[8];e[9]!==k||e[10]!==g?(l=i.jsx("div",babelHelpers["extends"]({},f,{children:i.jsx(c("MWXMessageTextWithEntities.react"),{maxLength:120,maxLines:3,ranges:k,renderers:j,text:g,transforms:d("MWChatTextTransform").textTransformsNoVault,truncationStyle:"ellipsis-only",withParagraphs:!1})})),e[9]=k,e[10]=g,e[11]=l):l=e[11];e[12]!==h||e[13]!==l?(a=i.jsx(c("MWXMessageReplyBubble.react"),{outgoing:h,children:l}),e[12]=h,e[13]=l,e[14]=a):a=e[14];return a}g["default"]=a}),98);
__d("MWRepliesUnavailable.react",["fbt","MWXMessageReplyBubble.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.outgoing;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Message unavailable"),b[0]=e):e=b[0];e=e;b[1]!==a?(e=j.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:e}),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),226);
__d("MWRepliesVideo.react",["fbt","ix","CometPlaceholder.react","I64","LSMediaUrlAttachment","MWXImage.react","MWXMessageImage.react","MWXMessageReplyBubble.react","MWXVideoStatusListener.react","ReQL","ReQLSuspense","cr:9765","react","react-compiler-runtime","useMAWMediaStatusUIState","useMWRepliesImageGetMaxDimensions","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=l||(l=d("react"));e=l;e.useCallback;var n=e.useEffect,o=e.useRef,p={thumbnail:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",filter:"xin470k",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function q(a){var e=d("react-compiler-runtime").c(65),g=a.isSecureMessage,l=a.mediaRenderQpl,q=a.message;a=a.outgoing;g=g===void 0?!1:g;var r=c("useMWRepliesImageGetMaxDimensions")(),s=r.maxHeight;r=r.maxWidth;var t=(j||(j=c("useReStore")))(),u;e[0]!==t.tables.attachments||e[1]!==q.replyAttachmentId||e[2]!==q.replyAttachmentPlaintextHash||e[3]!==q.replySourceId||e[4]!==q.threadKey?(u=function(){var a,b=q.replyAttachmentPlaintextHash,c=(a=q.replySourceId)!=null?a:"";if(b!=null&&c!=null)return d("ReQL").fromTableAscending(t.tables.attachments).filter(function(a){return a.attachmentFbid===b&&a.messageId===c});else{a=(a=q.replyAttachmentId)!=null?a:(k||(k=d("I64"))).zero;return d("ReQL").fromTableAscending(t.tables.attachments).getKeyRange(q.threadKey,c,(k||(k=d("I64"))).to_string(a))}},e[0]=t.tables.attachments,e[1]=q.replyAttachmentId,e[2]=q.replyAttachmentPlaintextHash,e[3]=q.replySourceId,e[4]=q.threadKey,e[5]=u):u=e[5];var v;e[6]!==t||e[7]!==q?(v=[t,q],e[6]=t,e[7]=q,e[8]=v):v=e[8];var w=d("ReQLSuspense").useFirst(u,v,f.id+":72");e[9]!==w||e[10]!==l?(u=function(){w!=null&&(l==null?void 0:l.addAttachmentAnnotations==null?void 0:l.addAttachmentAnnotations(w)),l==null?void 0:l.addPoint("render-reply-video-impl",{bool:{has_db_attachment:w!=null}})},v=[w,l],e[9]=w,e[10]=l,e[11]=u,e[12]=v):(u=e[11],v=e[12]);n(u,v);u=g?w:null;v=c("useMAWMediaStatusUIState")(u,l);v=v.downloadStatus;var x;if(w!=null)if(u!=null&&v!=="downloaded")x=null;else if(b("cr:9765")==null||!g){e[13]!==w?(u=d("LSMediaUrlAttachment").previewUrl(w),e[13]=w,e[14]=u):u=e[14];x=u}else{e[15]!==w.attachmentFbid||e[16]!==l?(v=b("cr:9765").getAttachmentBlobNonOptional(w.attachmentFbid,"MWRepliesVideo",l),e[15]=w.attachmentFbid,e[16]=l,e[17]=v):v=e[17];x=v}u=o(null);e[18]!==l?(v=function(a){l==null?void 0:l.endFail("load-video-error",{string:{video_error_name:a}})},e[18]=l,e[19]=v):v=e[19];var y=v;e[20]!==l?(v=function(){l==null?void 0:l.endSuccess()},e[20]=l,e[21]=v):v=e[21];v=v;if(x==null){l==null?void 0:l.endSuccess();var z;e[22]===Symbol["for"]("react.memo_cache_sentinel")?(z=h._(/*BTDS*/"Video"),e[22]=z):z=e[22];e[23]!==a?(z=m.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:z}),e[23]=a,e[24]=z):z=e[24];return z}e[25]!==q.replyMediaPreviewHeight?(a=q.replyMediaPreviewHeight!=null?(k||(k=d("I64"))).to_float(q.replyMediaPreviewHeight):void 0,e[25]=q.replyMediaPreviewHeight,e[26]=a):a=e[26];z=a;e[27]!==q.replyMediaPreviewWidth?(a=q.replyMediaPreviewWidth!=null?(k||(k=d("I64"))).to_float(q.replyMediaPreviewWidth):void 0,e[27]=q.replyMediaPreviewWidth,e[28]=a):a=e[28];a=a;if((w==null?void 0:w.previewUrlMimeType)!=null&&!g){e[29]!==y?(g=function(){return y()},e[29]=y,e[30]=g):g=e[30];var A;e[31]!==z||e[32]!==s||e[33]!==r||e[34]!==v||e[35]!==x||e[36]!==g||e[37]!==a?(A=m.jsx(c("MWXMessageImage.react"),{alt:"",height:z,maxHeight:s,maxWidth:r,onError:g,onLoad:v,src:x,width:a,xstyle:p.thumbnail}),e[31]=z,e[32]=s,e[33]=r,e[34]=v,e[35]=x,e[36]=g,e[37]=a,e[38]=A):A=e[38];g=A}else{e[39]!==y||e[40]!==v?(A=m.jsx(c("MWXVideoStatusListener.react"),{onError:y,onLoad:v,videoRef:u}),e[39]=y,e[40]=v,e[41]=A):A=e[41];var B;e[42]===Symbol["for"]("react.memo_cache_sentinel")?(B="x1tlxs6b x1g8br2z x1gn5b1j x230xth xin470k x6ikm8r x10wlt62",e[42]=B):B=e[42];z=z!=null&&z>s?"100%":z;var C;e[43]!==s||e[44]!==r?(C={maxHeight:s,maxWidth:r},e[43]=s,e[44]=r,e[45]=C):C=e[45];s=a!=null&&a>r?"100%":a;e[46]!==x||e[47]!==z||e[48]!==C||e[49]!==s?(r=m.jsx("video",{alt:"",className:B,height:z,ref:u,src:x,style:C,width:s}),e[46]=x,e[47]=z,e[48]=C,e[49]=s,e[50]=r):r=e[50];e[51]!==A||e[52]!==r?(a=m.jsxs(m.Fragment,{children:[A,r]}),e[51]=A,e[52]=r,e[53]=a):a=e[53];g=a}e[54]===Symbol["for"]("react.memo_cache_sentinel")?(B={className:"x1n2onr6"},e[54]=B):B=e[54];u=g;e[55]===Symbol["for"]("react.memo_cache_sentinel")?(z={className:"x6s0dn4 x78zum5 xdt5ytf x5yr21d x17qophe xl56j7k x10l6tqk x13vifvy xh8yej3"},e[55]=z):z=e[55];e[56]!==y?(C=function(){return y()},e[56]=y,e[57]=C):C=e[57];e[58]===Symbol["for"]("react.memo_cache_sentinel")?(s=i("354763"),e[58]=s):s=e[58];e[59]!==v||e[60]!==C?(A=m.jsx("div",babelHelpers["extends"]({},z,{children:m.jsx(c("MWXImage.react"),{onError:C,onLoad:v,src:s})})),e[59]=v,e[60]=C,e[61]=A):A=e[61];e[62]!==A||e[63]!==g?(r=m.jsxs("div",babelHelpers["extends"]({},B,{children:[u,A]})),e[62]=A,e[63]=g,e[64]=r):r=e[64];return r}function a(a){var b=d("react-compiler-runtime").c(7),e;b[0]!==a?(e=babelHelpers["extends"]({},a),b[0]=a,b[1]=e):e=b[1];var f;b[2]!==e.mediaRenderQpl?(a=function(){var a;(a=e.mediaRenderQpl)==null?void 0:a.addPoint("render-replies-video")},f=[e.mediaRenderQpl],b[2]=e.mediaRenderQpl,b[3]=a,b[4]=f):(a=b[3],f=b[4]);n(a,f);b[5]!==e?(a=m.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWRepliesVideo",children:m.jsx(q,babelHelpers["extends"]({},e))}),b[5]=e,b[6]=a):a=b[6];return a}g["default"]=a}),226);
__d("MWStoryUnavailable.react",["MAWLocalizationType","MWXMessageReplyBubble.react","getMAWLocalizedFallbackMsgSnippet","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.outgoing;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.UNAVAILABLE_STORY),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:e}),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("MWRepliedMessage.react",["MWBlockedTombstoneMessage.react","MWBlockingProtectionContext.react","MWGroupBlockingProtectionUtils","MWPBaseRepliedMessage.react","MWRepliesAttachment.react","MWRepliesExpired.react","MWRepliesGIF.react","MWRepliesMedia.react","MWRepliesRemoved.react","MWRepliesRollcallContribution.react","MWRepliesSticker.react","MWRepliesStory.react","MWRepliesText.react","MWRepliesUnavailable.react","MWRepliesVideo.react","MWStoryUnavailable.react","cr:2947","react","react-compiler-runtime","useMWJumpToMessage"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var e=d("react-compiler-runtime").c(20),f=a.isSecureMessage,g=a.mediaRenderQpl,h=a.message;a=a.outgoing;f=f===void 0?!1:f;var k=c("MWBlockingProtectionContext.react").useHook();k=k.findMessageId;var l=d("MWGroupBlockingProtectionUtils").useMWIsMessageSentByBlockedContact(h.replyToUserId,h.threadKey);if(e[0]!==k||e[1]!==l||e[2]!==h.replySourceId){var m;m=l&&!k((m=h.replySourceId)!=null?m:"");e[0]=k;e[1]=l;e[2]=h.replySourceId;e[3]=m}else m=e[3];var n=m,o=c("useMWJumpToMessage")("Pinned");e[4]!==g||e[5]!==n?(k=function(){g==null?void 0:g.addPoint("render-replied-message",{bool:{show_blocking_tombstone:n}})},l=[g,n],e[4]=g,e[5]=n,e[6]=k,e[7]=l):(k=e[6],l=e[7]);j(k,l);if(n){var p=h.replySourceTimestampMs,q=h.replySourceId;e[8]!==o||e[9]!==q||e[10]!==p?(m=function(){q!=null&&p!=null&&o(q,p)},e[8]=o,e[9]=q,e[10]=p,e[11]=m):m=e[11];e[12]!==h||e[13]!==m?(k=i.jsx(d("MWBlockedTombstoneMessage.react").MWBlockedTombstoneMessage,{message:h,onClick:m,source:d("MWBlockedTombstoneMessage.react").MWBlockedTombstoneMessageSource.REPLIED_TO}),e[12]=h,e[13]=m,e[14]=k):k=e[14];return k}if(e[15]!==f||e[16]!==g||e[17]!==h||e[18]!==a){m=i.jsx(c("MWPBaseRepliedMessage.react"),{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:a,renderAttachment:c("MWRepliesAttachment.react"),renderExpiredMessage:c("MWRepliesExpired.react"),renderGIF:c("MWRepliesGIF.react"),renderMedia:c("MWRepliesMedia.react"),renderRaven:(l=b("cr:2947"))!=null?l:void 0,renderRemovedMessage:c("MWRepliesRemoved.react"),renderRollcallContribution:c("MWRepliesRollcallContribution.react"),renderSticker:c("MWRepliesSticker.react"),renderStory:c("MWRepliesStory.react"),renderTextMessage:c("MWRepliesText.react"),renderUnavailableMessage:c("MWRepliesUnavailable.react"),renderUnavailableStory:c("MWStoryUnavailable.react"),renderVideo:c("MWRepliesVideo.react")});e[15]=f;e[16]=g;e[17]=h;e[18]=a;e[19]=m}else m=e[19];return m}g["default"]=a}),98);
__d("useMWMessageRowTheme",["MWLSThreadDisplayContext","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(){var a=d("react-compiler-runtime").c(2),b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();b=c("gkx")("23219")?"12px":b==="Inbox"?"16px":"8px";var e;a[0]!==b?(e={dark:{"mwp-message-list-profile-start-padding":b},light:{"mwp-message-list-profile-start-padding":b},type:"VARIABLES"},a[0]=b,a[1]=e):e=a[1];b=e;return b}g["default"]=a}),98);